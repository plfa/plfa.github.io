<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>DeBruijn: Intrinsically-typed de Bruijn representation | Programming Language Foundations in Agda</title><meta name="generator" content="Jekyll v3.9.0"><meta property="og:title" content="DeBruijn: Intrinsically-typed de Bruijn representation"><meta property="og:locale" content="en_US"><meta name="description" content="Programming Language Foundations in Agda"><meta property="og:description" content="Programming Language Foundations in Agda"><link rel="canonical" href="https://plfa.github.io/20.07/DeBruijn/"><meta property="og:url" content="https://plfa.github.io/20.07/DeBruijn/"><meta property="og:site_name" content="Programming Language Foundations in Agda"><script type="application/ld+json">{"url":"https://plfa.github.io/20.07/DeBruijn/","headline":"DeBruijn: Intrinsically-typed de Bruijn representation","description":"Programming Language Foundations in Agda","@type":"WebPage","@context":"https://schema.org"}</script><link rel="stylesheet" href="/20.07/assets/main.css"></head><body><header class="site-header" role="banner"><div class="wrapper"><a class="site-title" href="/20.07/">Programming Language Foundations in Agda</a><nav class="site-nav"><span class="menu-icon"><svg viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/></svg></span><div class="trigger"><a class="page-link" href="/20.07/">The Book</a> <a class="page-link" href="/20.07/Announcements/">Announcements</a> <a class="page-link" href="/20.07/GettingStarted/">Getting Started</a> <a class="page-link" href="/20.07/Citing/">Citing</a> <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><header class="post-header"><h1 class="post-title">DeBruijn: Intrinsically-typed de Bruijn representation</h1></header><p style="text-align:center"><a alt="Previous chapter" href="/20.07/Properties/">Prev</a> &bullet; <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev-20.07/src/plfa/part2/DeBruijn.lagda.md">Source</a> &bullet; <a alt="Next chapter" href="/20.07/More/">Next</a></p><div class="post-content"><pre class="Agda"><a id="167" class="Keyword">module</a> <a id="174" href="/20.07/DeBruijn/" class="Module">plfa.part2.DeBruijn</a> <a id="194" class="Keyword">where</a>
</pre><p>The previous two chapters introduced lambda calculus, with a formalisation based on named variables, and terms defined separately from types. We began with that approach because it is traditional, but it is not the one we recommend. This chapter presents an alternative approach, where named variables are replaced by de Bruijn indices and terms are indexed by their types. Our new presentation is more compact, using substantially fewer lines of code to cover the same ground.</p><p>There are two fundamental approaches to typed lambda calculi. One approach, followed in the last two chapters, is to first define terms and then define types. Terms exist independent of types, and may have types assigned to them by separate typing rules. Another approach, followed in this chapter, is to first define types and then define terms. Terms and type rules are intertwined, and it makes no sense to talk of a term without a type. The two approaches are sometimes called <em>Curry style</em> and <em>Church style</em>. Following Reynolds, we will refer to them as <em>extrinsic</em> and <em>intrinsic</em>.</p><p>The particular representation described here was first proposed by Thorsten Altenkirch and Bernhard Reus. The formalisation of renaming and substitution we use is due to Conor McBride. Related work has been carried out by James Chapman, James McKinna, and many others.</p><h2 id="imports">Imports</h2><pre class="Agda"><a id="1564" class="Keyword">import</a> <a id="1571" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1609" class="Symbol">as</a> <a id="1612" class="Module">Eq</a>
<a id="1615" class="Keyword">open</a> <a id="1620" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="1623" class="Keyword">using</a> <a id="1629" class="Symbol">(</a><a id="1630" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="1633" class="Symbol">;</a> <a id="1635" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="1639" class="Symbol">)</a>
<a id="1641" class="Keyword">open</a> <a id="1646" class="Keyword">import</a> <a id="1653" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="1664" class="Keyword">using</a> <a id="1670" class="Symbol">(</a><a id="1671" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a><a id="1672" class="Symbol">;</a> <a id="1674" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a><a id="1680" class="Symbol">)</a>
<a id="1682" class="Keyword">open</a> <a id="1687" class="Keyword">import</a> <a id="1694" href="https://agda.github.io/agda-stdlib/v1.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="1703" class="Keyword">using</a> <a id="1709" class="Symbol">(</a><a id="1710" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="1711" class="Symbol">;</a> <a id="1713" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="1717" class="Symbol">;</a> <a id="1719" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="1722" class="Symbol">)</a>
<a id="1724" class="Keyword">open</a> <a id="1729" class="Keyword">import</a> <a id="1736" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1753" class="Keyword">using</a> <a id="1759" class="Symbol">(</a><a id="1760" href="https://agda.github.io/agda-stdlib/v1.1/Relation.Nullary.html#535" class="Function Operator">¬_</a><a id="1762" class="Symbol">)</a>
</pre><h2 id="introduction">Introduction</h2><p>There is a close correspondence between the structure of a term and the structure of the derivation showing that it is well typed. For example, here is the term for the Church numeral two:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>twoᶜ : Term
twoᶜ = ƛ "s" ⇒ ƛ "z" ⇒ ` "s" · (` "s" · ` "z")
</code></pre></div></div><p>And here is its corresponding type derivation:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>⊢twoᶜ : ∀ {A} → ∅ ⊢ twoᶜ ⦂ Ch A
⊢twoᶜ = ⊢ƛ (⊢ƛ (⊢` ∋s · (⊢` ∋s · ⊢` ∋z)))
  where
  ∋s = S ("s" ≠ "z") Z
  ∋z = Z
</code></pre></div></div><p>(These are both taken from Chapter <a href="/20.07/Lambda/">Lambda</a> and you can see the corresponding derivation tree written out in full <a href="/20.07/Lambda/#derivation">here</a>.) The two definitions are in close correspondence, where:</p><ul><li><code class="language-plaintext highlighter-rouge">`_</code> corresponds to <code class="language-plaintext highlighter-rouge">⊢`</code></li><li><code class="language-plaintext highlighter-rouge">ƛ_⇒_</code> corresponds to <code class="language-plaintext highlighter-rouge">⊢ƛ</code></li><li><code class="language-plaintext highlighter-rouge">_·_</code> corresponds to <code class="language-plaintext highlighter-rouge">_·_</code></li></ul><p>Further, if we think of <code class="language-plaintext highlighter-rouge">Z</code> as zero and <code class="language-plaintext highlighter-rouge">S</code> as successor, then the lookup derivation for each variable corresponds to a number which tells us how many enclosing binding terms to count to find the binding of that variable. Here <code class="language-plaintext highlighter-rouge">"z"</code> corresponds to <code class="language-plaintext highlighter-rouge">Z</code> or zero and <code class="language-plaintext highlighter-rouge">"s"</code> corresponds to <code class="language-plaintext highlighter-rouge">S Z</code> or one. And, indeed, <code class="language-plaintext highlighter-rouge">"z"</code> is bound by the inner abstraction (count outward past zero abstractions) and <code class="language-plaintext highlighter-rouge">"s"</code> is bound by the outer abstraction (count outward past one abstraction).</p><p>In this chapter, we are going to exploit this correspondence, and introduce a new notation for terms that simultaneously represents the term and its type derivation. Now we will write the following:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>twoᶜ  :  ∅ ⊢ Ch `ℕ
twoᶜ  =  ƛ ƛ (# 1 · (# 1 · # 0))
</code></pre></div></div><p>A variable is represented by a natural number (written with <code class="language-plaintext highlighter-rouge">Z</code> and <code class="language-plaintext highlighter-rouge">S</code>, and abbreviated in the usual way), and tells us how many enclosing binding terms to count to find the binding of that variable. Thus, <code class="language-plaintext highlighter-rouge"># 0</code> is bound at the inner <code class="language-plaintext highlighter-rouge">ƛ</code>, and <code class="language-plaintext highlighter-rouge"># 1</code> at the outer <code class="language-plaintext highlighter-rouge">ƛ</code>.</p><p>Replacing variables by numbers in this way is called <em>de Bruijn representation</em>, and the numbers themselves are called <em>de Bruijn indices</em>, after the Dutch mathematician Nicolaas Govert (Dick) de Bruijn (1918—2012), a pioneer in the creation of proof assistants. One advantage of replacing named variables with de Bruijn indices is that each term now has a unique representation, rather than being represented by the equivalence class of terms under alpha renaming.</p><p>The other important feature of our chosen representation is that it is <em>intrinsically typed</em>. In the previous two chapters, the definition of terms and the definition of types are completely separate. All terms have type <code class="language-plaintext highlighter-rouge">Term</code>, and nothing in Agda prevents one from writing a nonsense term such as <code class="language-plaintext highlighter-rouge">`zero · `suc `zero</code> which has no type. Such terms that exist independent of types are sometimes called <em>preterms</em> or <em>raw terms</em>. Here we are going to replace the type <code class="language-plaintext highlighter-rouge">Term</code> of raw terms by the type <code class="language-plaintext highlighter-rouge">Γ ⊢ A</code> of intrinsically-typed terms which in context <code class="language-plaintext highlighter-rouge">Γ</code> have type <code class="language-plaintext highlighter-rouge">A</code>.</p><p>While these two choices fit well, they are independent. One can use de Bruijn indices in raw terms, or have intrinsically-typed terms with names. In Chapter <a href="/20.07/Untyped/">Untyped</a>, we will introduce terms with de Bruijn indices that are intrinsically scoped but not typed.</p><h2 id="a-second-example">A second example</h2><p>De Bruijn indices can be tricky to get the hang of, so before proceeding further let’s consider a second example. Here is the term that adds two naturals:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plus : Term
plus = μ "+" ⇒ ƛ "m" ⇒ ƛ "n" ⇒
         case ` "m"
           [zero⇒ ` "n"
           |suc "m" ⇒ `suc (` "+" · ` "m" · ` "n") ]
</code></pre></div></div><p>Note variable <code class="language-plaintext highlighter-rouge">"m"</code> is bound twice, once in a lambda abstraction and once in the successor branch of the case. Any appearance of <code class="language-plaintext highlighter-rouge">"m"</code> in the successor branch must refer to the latter binding, due to shadowing.</p><p>Here is its corresponding type derivation:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>⊢plus : ∅ ⊢ plus ⦂ `ℕ ⇒ `ℕ ⇒ `ℕ
⊢plus = ⊢μ (⊢ƛ (⊢ƛ (⊢case (⊢` ∋m) (⊢` ∋n)
         (⊢suc (⊢` ∋+ · ⊢` ∋m′ · ⊢` ∋n′)))))
  where
  ∋+  = (S ("+" ≠ "m") (S ("+" ≠ "n") (S ("+" ≠ "m") Z)))
  ∋m  = (S ("m" ≠ "n") Z)
  ∋n  = Z
  ∋m′ = Z
  ∋n′ = (S ("n" ≠ "m") Z)
</code></pre></div></div><p>The two definitions are in close correspondence, where in addition to the previous correspondences we have:</p><ul><li><code class="language-plaintext highlighter-rouge">`zero</code> corresponds to <code class="language-plaintext highlighter-rouge">⊢zero</code></li><li><code class="language-plaintext highlighter-rouge">`suc_</code> corresponds to <code class="language-plaintext highlighter-rouge">⊢suc</code></li><li><code class="language-plaintext highlighter-rouge">case_[zero⇒_|suc_⇒_]</code> corresponds to <code class="language-plaintext highlighter-rouge">⊢case</code></li><li><code class="language-plaintext highlighter-rouge">μ_⇒_</code> corresponds to <code class="language-plaintext highlighter-rouge">⊢μ</code></li></ul><p>Note the two lookup judgments <code class="language-plaintext highlighter-rouge">∋m</code> and <code class="language-plaintext highlighter-rouge">∋m′</code> refer to two different bindings of variables named <code class="language-plaintext highlighter-rouge">"m"</code>. In contrast, the two judgments <code class="language-plaintext highlighter-rouge">∋n</code> and <code class="language-plaintext highlighter-rouge">∋n′</code> both refer to the same binding of <code class="language-plaintext highlighter-rouge">"n"</code> but accessed in different contexts, the first where <code class="language-plaintext highlighter-rouge">"n"</code> is the last binding in the context, and the second after <code class="language-plaintext highlighter-rouge">"m"</code> is bound in the successor branch of the case.</p><p>Here is the term and its type derivation in the notation of this chapter:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plus : ∀ {Γ} → Γ ⊢ `ℕ ⇒ `ℕ ⇒ `ℕ
plus = μ ƛ ƛ case (# 1) (# 0) (`suc (# 3 · # 0 · # 1))
</code></pre></div></div><p>Reading from left to right, each de Bruijn index corresponds to a lookup derivation:</p><ul><li><code class="language-plaintext highlighter-rouge"># 1</code> corresponds to <code class="language-plaintext highlighter-rouge">∋m</code></li><li><code class="language-plaintext highlighter-rouge"># 0</code> corresponds to <code class="language-plaintext highlighter-rouge">∋n</code></li><li><code class="language-plaintext highlighter-rouge"># 3</code> corresponds to <code class="language-plaintext highlighter-rouge">∋+</code></li><li><code class="language-plaintext highlighter-rouge"># 0</code> corresponds to <code class="language-plaintext highlighter-rouge">∋m′</code></li><li><code class="language-plaintext highlighter-rouge"># 1</code> corresponds to <code class="language-plaintext highlighter-rouge">∋n′</code></li></ul><p>The de Bruijn index counts the number of <code class="language-plaintext highlighter-rouge">S</code> constructs in the corresponding lookup derivation. Variable <code class="language-plaintext highlighter-rouge">"n"</code> bound in the inner abstraction is referred to as <code class="language-plaintext highlighter-rouge"># 0</code> in the zero branch of the case but as <code class="language-plaintext highlighter-rouge"># 1</code> in the successor branch of the case, because of the intervening binding. Variable <code class="language-plaintext highlighter-rouge">"m"</code> bound in the lambda abstraction is referred to by the first <code class="language-plaintext highlighter-rouge"># 1</code> in the code, while variable <code class="language-plaintext highlighter-rouge">"m"</code> bound in the successor branch of the case is referred to by the second <code class="language-plaintext highlighter-rouge"># 0</code>. There is no shadowing: with variable names, there is no way to refer to the former binding in the scope of the latter, but with de Bruijn indices it could be referred to as <code class="language-plaintext highlighter-rouge"># 2</code>.</p><h2 id="order-of-presentation">Order of presentation</h2><p>In the current chapter, the use of intrinsically-typed terms necessitates that we cannot introduce operations such as substitution or reduction without also showing that they preserve types. Hence, the order of presentation must change.</p><p>The syntax of terms now incorporates their typing rules, and the definition of values now incorporates the Canonical Forms lemma. The definition of substitution is somewhat more involved, but incorporates the trickiest part of the previous proof, the lemma establishing that substitution preserves types. The definition of reduction incorporates preservation, which no longer requires a separate proof.</p><h2 id="syntax">Syntax</h2><p>We now begin our formal development.</p><p>First, we get all our infix declarations out of the way. We list separately operators for judgments, types, and terms:</p><pre class="Agda"><a id="8363" class="Keyword">infix</a>  <a id="8370" class="Number">4</a> <a id="8372" href="/20.07/DeBruijn/#11094" class="Datatype Operator">_⊢_</a>
<a id="8376" class="Keyword">infix</a>  <a id="8383" class="Number">4</a> <a id="8385" href="/20.07/DeBruijn/#9823" class="Datatype Operator">_∋_</a>
<a id="8389" class="Keyword">infixl</a> <a id="8396" class="Number">5</a> <a id="8398" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">_,_</a>

<a id="8403" class="Keyword">infixr</a> <a id="8410" class="Number">7</a> <a id="8412" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">_⇒_</a>

<a id="8417" class="Keyword">infix</a>  <a id="8424" class="Number">5</a> <a id="8426" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ_</a>
<a id="8429" class="Keyword">infix</a>  <a id="8436" class="Number">5</a> <a id="8438" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ_</a>
<a id="8441" class="Keyword">infixl</a> <a id="8448" class="Number">7</a> <a id="8450" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">_·_</a>
<a id="8454" class="Keyword">infix</a>  <a id="8461" class="Number">8</a> <a id="8463" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc_</a>
<a id="8469" class="Keyword">infix</a>  <a id="8476" class="Number">9</a> <a id="8478" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`_</a>
<a id="8481" class="Keyword">infix</a>  <a id="8488" class="Number">9</a> <a id="8490" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S_</a>
<a id="8493" class="Keyword">infix</a>  <a id="8500" class="Number">9</a> <a id="8502" href="/20.07/DeBruijn/#13523" class="Function Operator">#_</a>
</pre><p>Since terms are intrinsically typed, we must define types and contexts before terms.</p><h3 id="types">Types</h3><p>As before, we have just two types, functions and naturals. The formal definition is unchanged:</p><pre class="Agda"><a id="8706" class="Keyword">data</a> <a id="Type"></a><a id="8711" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a> <a id="8716" class="Symbol">:</a> <a id="8718" class="PrimitiveType">Set</a> <a id="8722" class="Keyword">where</a>
  <a id="Type._⇒_"></a><a id="8730" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">_⇒_</a> <a id="8734" class="Symbol">:</a> <a id="8736" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a> <a id="8741" class="Symbol">→</a> <a id="8743" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a> <a id="8748" class="Symbol">→</a> <a id="8750" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a>
  <a id="Type.`ℕ"></a><a id="8757" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>  <a id="8761" class="Symbol">:</a> <a id="8763" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a>
</pre><h3 id="contexts">Contexts</h3><p>Contexts are as before, but we drop the names. Contexts are formalised as follows:</p><pre class="Agda"><a id="8874" class="Keyword">data</a> <a id="Context"></a><a id="8879" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a> <a id="8887" class="Symbol">:</a> <a id="8889" class="PrimitiveType">Set</a> <a id="8893" class="Keyword">where</a>
  <a id="Context.∅"></a><a id="8901" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a>   <a id="8905" class="Symbol">:</a> <a id="8907" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a>
  <a id="Context._,_"></a><a id="8917" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">_,_</a> <a id="8921" class="Symbol">:</a> <a id="8923" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a> <a id="8931" class="Symbol">→</a> <a id="8933" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a> <a id="8938" class="Symbol">→</a> <a id="8940" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a>
</pre><p>A context is just a list of types, with the type of the most recently bound variable on the right. As before, we let <code class="language-plaintext highlighter-rouge">Γ</code> and <code class="language-plaintext highlighter-rouge">Δ</code> range over contexts. We write <code class="language-plaintext highlighter-rouge">∅</code> for the empty context, and <code class="language-plaintext highlighter-rouge">Γ , A</code> for the context <code class="language-plaintext highlighter-rouge">Γ</code> extended by type <code class="language-plaintext highlighter-rouge">A</code>. For example</p><pre class="Agda"><a id="9210" href="/20.07/DeBruijn/#9210" class="Function">_</a> <a id="9212" class="Symbol">:</a> <a id="9214" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a>
<a id="9222" class="Symbol">_</a> <a id="9224" class="Symbol">=</a> <a id="9226" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="9228" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="9230" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="9233" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="9235" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="9238" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="9240" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
</pre><p>is a context with two variables in scope, where the outer bound one has type <code class="language-plaintext highlighter-rouge">`ℕ ⇒ `ℕ</code>, and the inner bound one has type <code class="language-plaintext highlighter-rouge">`ℕ</code>.</p><h3 id="variables-and-the-lookup-judgment">Variables and the lookup judgment</h3><p>Intrinsically-typed variables correspond to the lookup judgment. They are represented by de Bruijn indices, and hence also correspond to natural numbers. We write</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ∋ A
</code></pre></div></div><p>for variables which in context <code class="language-plaintext highlighter-rouge">Γ</code> have type <code class="language-plaintext highlighter-rouge">A</code>. The lookup judgement is formalised by a datatype indexed by a context and a type. It looks exactly like the old lookup judgment, but with all variable names dropped:</p><pre class="Agda"><a id="9818" class="Keyword">data</a> <a id="_∋_"></a><a id="9823" href="/20.07/DeBruijn/#9823" class="Datatype Operator">_∋_</a> <a id="9827" class="Symbol">:</a> <a id="9829" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a> <a id="9837" class="Symbol">→</a> <a id="9839" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a> <a id="9844" class="Symbol">→</a> <a id="9846" class="PrimitiveType">Set</a> <a id="9850" class="Keyword">where</a>

  <a id="_∋_.Z"></a><a id="9859" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="9861" class="Symbol">:</a> <a id="9863" class="Symbol">∀</a> <a id="9865" class="Symbol">{</a><a id="9866" href="/20.07/DeBruijn/#9866" class="Bound">Γ</a> <a id="9868" href="/20.07/DeBruijn/#9868" class="Bound">A</a><a id="9869" class="Symbol">}</a>
      <a id="9877" class="Comment">---------</a>
    <a id="9891" class="Symbol">→</a> <a id="9893" href="/20.07/DeBruijn/#9866" class="Bound">Γ</a> <a id="9895" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="9897" href="/20.07/DeBruijn/#9868" class="Bound">A</a> <a id="9899" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="9901" href="/20.07/DeBruijn/#9868" class="Bound">A</a>

  <a id="_∋_.S_"></a><a id="9906" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S_</a> <a id="9909" class="Symbol">:</a> <a id="9911" class="Symbol">∀</a> <a id="9913" class="Symbol">{</a><a id="9914" href="/20.07/DeBruijn/#9914" class="Bound">Γ</a> <a id="9916" href="/20.07/DeBruijn/#9916" class="Bound">A</a> <a id="9918" href="/20.07/DeBruijn/#9918" class="Bound">B</a><a id="9919" class="Symbol">}</a>
    <a id="9925" class="Symbol">→</a> <a id="9927" href="/20.07/DeBruijn/#9914" class="Bound">Γ</a> <a id="9929" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="9931" href="/20.07/DeBruijn/#9916" class="Bound">A</a>
      <a id="9939" class="Comment">---------</a>
    <a id="9953" class="Symbol">→</a> <a id="9955" href="/20.07/DeBruijn/#9914" class="Bound">Γ</a> <a id="9957" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="9959" href="/20.07/DeBruijn/#9918" class="Bound">B</a> <a id="9961" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="9963" href="/20.07/DeBruijn/#9916" class="Bound">A</a>
</pre><p>Constructor <code class="language-plaintext highlighter-rouge">S</code> no longer requires an additional parameter, since without names shadowing is no longer an issue. Now constructors <code class="language-plaintext highlighter-rouge">Z</code> and <code class="language-plaintext highlighter-rouge">S</code> correspond even more closely to the constructors <code class="language-plaintext highlighter-rouge">here</code> and <code class="language-plaintext highlighter-rouge">there</code> for the element-of relation <code class="language-plaintext highlighter-rouge">_∈_</code> on lists, as well as to constructors <code class="language-plaintext highlighter-rouge">zero</code> and <code class="language-plaintext highlighter-rouge">suc</code> for natural numbers.</p><p>For example, consider the following old-style lookup judgments:</p><ul><li><code class="language-plaintext highlighter-rouge">∅ , "s" ⦂ `ℕ ⇒ `ℕ , "z" ⦂ `ℕ ∋ "z" ⦂ `ℕ</code></li><li><code class="language-plaintext highlighter-rouge">∅ , "s" ⦂ `ℕ ⇒ `ℕ , "z" ⦂ `ℕ ∋ "s" ⦂ `ℕ ⇒ `ℕ</code></li></ul><p>They correspond to the following intrinsically-typed variables:</p><pre class="Agda"><a id="10525" href="/20.07/DeBruijn/#10525" class="Function">_</a> <a id="10527" class="Symbol">:</a> <a id="10529" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="10531" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="10533" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="10536" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="10538" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="10541" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="10543" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="10546" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="10548" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="10551" class="Symbol">_</a> <a id="10553" class="Symbol">=</a> <a id="10555" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>

<a id="10558" href="/20.07/DeBruijn/#10558" class="Function">_</a> <a id="10560" class="Symbol">:</a> <a id="10562" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="10564" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="10566" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="10569" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="10571" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="10574" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="10576" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="10579" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="10581" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="10584" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="10586" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="10589" class="Symbol">_</a> <a id="10591" class="Symbol">=</a> <a id="10593" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="10595" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
</pre><p>In the given context, <code class="language-plaintext highlighter-rouge">"z"</code> is represented by <code class="language-plaintext highlighter-rouge">Z</code> (as the most recently bound variable), and <code class="language-plaintext highlighter-rouge">"s"</code> by <code class="language-plaintext highlighter-rouge">S Z</code> (as the next most recently bound variable).</p><h3 id="terms-and-the-typing-judgment">Terms and the typing judgment</h3><p>Intrinsically-typed terms correspond to the typing judgment. We write</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ⊢ A
</code></pre></div></div><p>for terms which in context <code class="language-plaintext highlighter-rouge">Γ</code> has type <code class="language-plaintext highlighter-rouge">A</code>. The judgement is formalised by a datatype indexed by a context and a type. It looks exactly like the old typing judgment, but with all terms and variable names dropped:</p><pre class="Agda"><a id="11089" class="Keyword">data</a> <a id="_⊢_"></a><a id="11094" href="/20.07/DeBruijn/#11094" class="Datatype Operator">_⊢_</a> <a id="11098" class="Symbol">:</a> <a id="11100" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a> <a id="11108" class="Symbol">→</a> <a id="11110" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a> <a id="11115" class="Symbol">→</a> <a id="11117" class="PrimitiveType">Set</a> <a id="11121" class="Keyword">where</a>

  <a id="_⊢_.`_"></a><a id="11130" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`_</a> <a id="11133" class="Symbol">:</a> <a id="11135" class="Symbol">∀</a> <a id="11137" class="Symbol">{</a><a id="11138" href="/20.07/DeBruijn/#11138" class="Bound">Γ</a> <a id="11140" href="/20.07/DeBruijn/#11140" class="Bound">A</a><a id="11141" class="Symbol">}</a>
    <a id="11147" class="Symbol">→</a> <a id="11149" href="/20.07/DeBruijn/#11138" class="Bound">Γ</a> <a id="11151" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="11153" href="/20.07/DeBruijn/#11140" class="Bound">A</a>
      <a id="11161" class="Comment">-----</a>
    <a id="11171" class="Symbol">→</a> <a id="11173" href="/20.07/DeBruijn/#11138" class="Bound">Γ</a> <a id="11175" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11177" href="/20.07/DeBruijn/#11140" class="Bound">A</a>

  <a id="_⊢_.ƛ_"></a><a id="11182" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ_</a>  <a id="11186" class="Symbol">:</a> <a id="11188" class="Symbol">∀</a> <a id="11190" class="Symbol">{</a><a id="11191" href="/20.07/DeBruijn/#11191" class="Bound">Γ</a> <a id="11193" href="/20.07/DeBruijn/#11193" class="Bound">A</a> <a id="11195" href="/20.07/DeBruijn/#11195" class="Bound">B</a><a id="11196" class="Symbol">}</a>
    <a id="11202" class="Symbol">→</a> <a id="11204" href="/20.07/DeBruijn/#11191" class="Bound">Γ</a> <a id="11206" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="11208" href="/20.07/DeBruijn/#11193" class="Bound">A</a> <a id="11210" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11212" href="/20.07/DeBruijn/#11195" class="Bound">B</a>
      <a id="11220" class="Comment">---------</a>
    <a id="11234" class="Symbol">→</a> <a id="11236" href="/20.07/DeBruijn/#11191" class="Bound">Γ</a> <a id="11238" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11240" href="/20.07/DeBruijn/#11193" class="Bound">A</a> <a id="11242" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="11244" href="/20.07/DeBruijn/#11195" class="Bound">B</a>

  <a id="_⊢_._·_"></a><a id="11249" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">_·_</a> <a id="11253" class="Symbol">:</a> <a id="11255" class="Symbol">∀</a> <a id="11257" class="Symbol">{</a><a id="11258" href="/20.07/DeBruijn/#11258" class="Bound">Γ</a> <a id="11260" href="/20.07/DeBruijn/#11260" class="Bound">A</a> <a id="11262" href="/20.07/DeBruijn/#11262" class="Bound">B</a><a id="11263" class="Symbol">}</a>
    <a id="11269" class="Symbol">→</a> <a id="11271" href="/20.07/DeBruijn/#11258" class="Bound">Γ</a> <a id="11273" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11275" href="/20.07/DeBruijn/#11260" class="Bound">A</a> <a id="11277" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="11279" href="/20.07/DeBruijn/#11262" class="Bound">B</a>
    <a id="11285" class="Symbol">→</a> <a id="11287" href="/20.07/DeBruijn/#11258" class="Bound">Γ</a> <a id="11289" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11291" href="/20.07/DeBruijn/#11260" class="Bound">A</a>
      <a id="11299" class="Comment">---------</a>
    <a id="11313" class="Symbol">→</a> <a id="11315" href="/20.07/DeBruijn/#11258" class="Bound">Γ</a> <a id="11317" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11319" href="/20.07/DeBruijn/#11262" class="Bound">B</a>

  <a id="_⊢_.`zero"></a><a id="11324" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="11330" class="Symbol">:</a> <a id="11332" class="Symbol">∀</a> <a id="11334" class="Symbol">{</a><a id="11335" href="/20.07/DeBruijn/#11335" class="Bound">Γ</a><a id="11336" class="Symbol">}</a>
      <a id="11344" class="Comment">---------</a>
    <a id="11358" class="Symbol">→</a> <a id="11360" href="/20.07/DeBruijn/#11335" class="Bound">Γ</a> <a id="11362" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11364" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>

  <a id="_⊢_.`suc_"></a><a id="11370" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc_</a> <a id="11376" class="Symbol">:</a> <a id="11378" class="Symbol">∀</a> <a id="11380" class="Symbol">{</a><a id="11381" href="/20.07/DeBruijn/#11381" class="Bound">Γ</a><a id="11382" class="Symbol">}</a>
    <a id="11388" class="Symbol">→</a> <a id="11390" href="/20.07/DeBruijn/#11381" class="Bound">Γ</a> <a id="11392" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11394" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
      <a id="11403" class="Comment">------</a>
    <a id="11414" class="Symbol">→</a> <a id="11416" href="/20.07/DeBruijn/#11381" class="Bound">Γ</a> <a id="11418" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11420" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>

  <a id="_⊢_.case"></a><a id="11426" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="11431" class="Symbol">:</a> <a id="11433" class="Symbol">∀</a> <a id="11435" class="Symbol">{</a><a id="11436" href="/20.07/DeBruijn/#11436" class="Bound">Γ</a> <a id="11438" href="/20.07/DeBruijn/#11438" class="Bound">A</a><a id="11439" class="Symbol">}</a>
    <a id="11445" class="Symbol">→</a> <a id="11447" href="/20.07/DeBruijn/#11436" class="Bound">Γ</a> <a id="11449" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11451" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
    <a id="11458" class="Symbol">→</a> <a id="11460" href="/20.07/DeBruijn/#11436" class="Bound">Γ</a> <a id="11462" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11464" href="/20.07/DeBruijn/#11438" class="Bound">A</a>
    <a id="11470" class="Symbol">→</a> <a id="11472" href="/20.07/DeBruijn/#11436" class="Bound">Γ</a> <a id="11474" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="11476" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="11479" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11481" href="/20.07/DeBruijn/#11438" class="Bound">A</a>
      <a id="11489" class="Comment">----------</a>
    <a id="11504" class="Symbol">→</a> <a id="11506" href="/20.07/DeBruijn/#11436" class="Bound">Γ</a> <a id="11508" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11510" href="/20.07/DeBruijn/#11438" class="Bound">A</a>

  <a id="_⊢_.μ_"></a><a id="11515" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ_</a> <a id="11518" class="Symbol">:</a> <a id="11520" class="Symbol">∀</a> <a id="11522" class="Symbol">{</a><a id="11523" href="/20.07/DeBruijn/#11523" class="Bound">Γ</a> <a id="11525" href="/20.07/DeBruijn/#11525" class="Bound">A</a><a id="11526" class="Symbol">}</a>
    <a id="11532" class="Symbol">→</a> <a id="11534" href="/20.07/DeBruijn/#11523" class="Bound">Γ</a> <a id="11536" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="11538" href="/20.07/DeBruijn/#11525" class="Bound">A</a> <a id="11540" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11542" href="/20.07/DeBruijn/#11525" class="Bound">A</a>
      <a id="11550" class="Comment">---------</a>
    <a id="11564" class="Symbol">→</a> <a id="11566" href="/20.07/DeBruijn/#11523" class="Bound">Γ</a> <a id="11568" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="11570" href="/20.07/DeBruijn/#11525" class="Bound">A</a>
</pre><p>The definition exploits the close correspondence between the structure of terms and the structure of a derivation showing that it is well typed: now we use the derivation <em>as</em> the term.</p><p>For example, consider the following old-style typing judgments:</p><ul><li><code class="language-plaintext highlighter-rouge">∅ , "s" ⦂ `ℕ ⇒ `ℕ , "z" ⦂ `ℕ ⊢ ` "z" ⦂ `ℕ</code></li><li><code class="language-plaintext highlighter-rouge">∅ , "s" ⦂ `ℕ ⇒ `ℕ , "z" ⦂ `ℕ ⊢ ` "s" ⦂ `ℕ ⇒ `ℕ</code></li><li><code class="language-plaintext highlighter-rouge">∅ , "s" ⦂ `ℕ ⇒ `ℕ , "z" ⦂ `ℕ ⊢ ` "s" · ` "z" ⦂ `ℕ</code></li><li><code class="language-plaintext highlighter-rouge">∅ , "s" ⦂ `ℕ ⇒ `ℕ , "z" ⦂ `ℕ ⊢ ` "s" · (` "s" · ` "z") ⦂ `ℕ</code></li><li><code class="language-plaintext highlighter-rouge">∅ , "s" ⦂ `ℕ ⇒ `ℕ ⊢ (ƛ "z" ⇒ ` "s" · (` "s" · ` "z")) ⦂ `ℕ ⇒ `ℕ</code></li><li><code class="language-plaintext highlighter-rouge">∅ ⊢ ƛ "s" ⇒ ƛ "z" ⇒ ` "s" · (` "s" · ` "z")) ⦂ (`ℕ ⇒ `ℕ) ⇒ `ℕ ⇒ `ℕ</code></li></ul><p>They correspond to the following intrinsically-typed terms:</p><pre class="Agda"><a id="12275" href="/20.07/DeBruijn/#12275" class="Function">_</a> <a id="12277" class="Symbol">:</a> <a id="12279" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="12281" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12283" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12286" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12288" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12291" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12293" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12296" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="12298" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="12301" class="Symbol">_</a> <a id="12303" class="Symbol">=</a> <a id="12305" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12307" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>

<a id="12310" href="/20.07/DeBruijn/#12310" class="Function">_</a> <a id="12312" class="Symbol">:</a> <a id="12314" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="12316" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12318" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12321" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12323" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12326" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12328" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12331" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="12333" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12336" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12338" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="12341" class="Symbol">_</a> <a id="12343" class="Symbol">=</a> <a id="12345" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12347" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12349" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>

<a id="12352" href="/20.07/DeBruijn/#12352" class="Function">_</a> <a id="12354" class="Symbol">:</a> <a id="12356" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="12358" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12360" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12363" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12365" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12368" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12370" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12373" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="12375" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="12378" class="Symbol">_</a> <a id="12380" class="Symbol">=</a> <a id="12382" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12384" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12386" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="12388" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="12390" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12392" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>

<a id="12395" href="/20.07/DeBruijn/#12395" class="Function">_</a> <a id="12397" class="Symbol">:</a> <a id="12399" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="12401" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12403" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12406" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12408" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12411" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12413" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12416" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="12418" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="12421" class="Symbol">_</a> <a id="12423" class="Symbol">=</a> <a id="12425" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12427" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12429" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="12431" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="12433" class="Symbol">(</a><a id="12434" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12436" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12438" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="12440" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="12442" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12444" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="12445" class="Symbol">)</a>

<a id="12448" href="/20.07/DeBruijn/#12448" class="Function">_</a> <a id="12450" class="Symbol">:</a> <a id="12452" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="12454" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12456" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12459" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12461" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12464" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="12466" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12469" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12471" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="12474" class="Symbol">_</a> <a id="12476" class="Symbol">=</a> <a id="12478" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="12480" class="Symbol">(</a><a id="12481" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12483" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12485" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="12487" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="12489" class="Symbol">(</a><a id="12490" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12492" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12494" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="12496" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="12498" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12500" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="12501" class="Symbol">))</a>

<a id="12505" href="/20.07/DeBruijn/#12505" class="Function">_</a> <a id="12507" class="Symbol">:</a> <a id="12509" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="12511" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="12513" class="Symbol">(</a><a id="12514" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12517" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12519" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="12521" class="Symbol">)</a> <a id="12523" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12525" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="12528" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="12530" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="12533" class="Symbol">_</a> <a id="12535" class="Symbol">=</a> <a id="12537" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="12539" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="12541" class="Symbol">(</a><a id="12542" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12544" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12546" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="12548" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="12550" class="Symbol">(</a><a id="12551" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12553" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="12555" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="12557" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="12559" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="12561" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="12562" class="Symbol">))</a>
</pre><p>The final term represents the Church numeral two.</p><h3 id="abbreviating-de-bruijn-indices">Abbreviating de Bruijn indices</h3><p>We can use a natural number to select a type from a context:</p><pre class="Agda"><a id="lookup"></a><a id="12721" href="/20.07/DeBruijn/#12721" class="Function">lookup</a> <a id="12728" class="Symbol">:</a> <a id="12730" href="/20.07/DeBruijn/#8879" class="Datatype">Context</a> <a id="12738" class="Symbol">→</a> <a id="12740" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="12742" class="Symbol">→</a> <a id="12744" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a>
<a id="12749" href="/20.07/DeBruijn/#12721" class="Function">lookup</a> <a id="12756" class="Symbol">(</a><a id="12757" href="/20.07/DeBruijn/#12757" class="Bound">Γ</a> <a id="12759" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12761" href="/20.07/DeBruijn/#12761" class="Bound">A</a><a id="12762" class="Symbol">)</a> <a id="12764" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>     <a id="12773" class="Symbol">=</a>  <a id="12776" href="/20.07/DeBruijn/#12761" class="Bound">A</a>
<a id="12778" href="/20.07/DeBruijn/#12721" class="Function">lookup</a> <a id="12785" class="Symbol">(</a><a id="12786" href="/20.07/DeBruijn/#12786" class="Bound">Γ</a> <a id="12788" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="12790" class="Symbol">_)</a> <a id="12793" class="Symbol">(</a><a id="12794" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="12798" href="/20.07/DeBruijn/#12798" class="Bound">n</a><a id="12799" class="Symbol">)</a>  <a id="12802" class="Symbol">=</a>  <a id="12805" href="/20.07/DeBruijn/#12721" class="Function">lookup</a> <a id="12812" href="/20.07/DeBruijn/#12786" class="Bound">Γ</a> <a id="12814" href="/20.07/DeBruijn/#12798" class="Bound">n</a>
<a id="12816" href="/20.07/DeBruijn/#12721" class="Function">lookup</a> <a id="12823" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a>       <a id="12831" class="Symbol">_</a>        <a id="12840" class="Symbol">=</a>  <a id="12843" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="12850" href="/20.07/DeBruijn/#12879" class="Postulate">impossible</a>
  <a id="12863" class="Keyword">where</a> <a id="12869" class="Keyword">postulate</a> <a id="12879" href="/20.07/DeBruijn/#12879" class="Postulate">impossible</a> <a id="12890" class="Symbol">:</a> <a id="12892" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a>
</pre><p>We intend to apply the function only when the natural is shorter than the length of the context, which we indicate by postulating an <code class="language-plaintext highlighter-rouge">impossible</code> term, just as we did <a href="/20.07/Lambda/#primed">here</a>.</p><p>Given the above, we can convert a natural to a corresponding de Bruijn index, looking up its type in the context:</p><pre class="Agda"><a id="count"></a><a id="13227" href="/20.07/DeBruijn/#13227" class="Function">count</a> <a id="13233" class="Symbol">:</a> <a id="13235" class="Symbol">∀</a> <a id="13237" class="Symbol">{</a><a id="13238" href="/20.07/DeBruijn/#13238" class="Bound">Γ</a><a id="13239" class="Symbol">}</a> <a id="13241" class="Symbol">→</a> <a id="13243" class="Symbol">(</a><a id="13244" href="/20.07/DeBruijn/#13244" class="Bound">n</a> <a id="13246" class="Symbol">:</a> <a id="13248" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="13249" class="Symbol">)</a> <a id="13251" class="Symbol">→</a> <a id="13253" href="/20.07/DeBruijn/#13238" class="Bound">Γ</a> <a id="13255" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="13257" href="/20.07/DeBruijn/#12721" class="Function">lookup</a> <a id="13264" href="/20.07/DeBruijn/#13238" class="Bound">Γ</a> <a id="13266" href="/20.07/DeBruijn/#13244" class="Bound">n</a>
<a id="13268" href="/20.07/DeBruijn/#13227" class="Function">count</a> <a id="13274" class="Symbol">{</a><a id="13275" href="/20.07/DeBruijn/#13275" class="Bound">Γ</a> <a id="13277" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="13279" class="Symbol">_}</a> <a id="13282" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>     <a id="13291" class="Symbol">=</a>  <a id="13294" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
<a id="13296" href="/20.07/DeBruijn/#13227" class="Function">count</a> <a id="13302" class="Symbol">{</a><a id="13303" href="/20.07/DeBruijn/#13303" class="Bound">Γ</a> <a id="13305" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="13307" class="Symbol">_}</a> <a id="13310" class="Symbol">(</a><a id="13311" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="13315" href="/20.07/DeBruijn/#13315" class="Bound">n</a><a id="13316" class="Symbol">)</a>  <a id="13319" class="Symbol">=</a>  <a id="13322" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="13324" class="Symbol">(</a><a id="13325" href="/20.07/DeBruijn/#13227" class="Function">count</a> <a id="13331" href="/20.07/DeBruijn/#13315" class="Bound">n</a><a id="13332" class="Symbol">)</a>
<a id="13334" href="/20.07/DeBruijn/#13227" class="Function">count</a> <a id="13340" class="Symbol">{</a><a id="13341" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a><a id="13342" class="Symbol">}</a>     <a id="13348" class="Symbol">_</a>        <a id="13357" class="Symbol">=</a>  <a id="13360" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#294" class="Function">⊥-elim</a> <a id="13367" href="/20.07/DeBruijn/#13396" class="Postulate">impossible</a>
  <a id="13380" class="Keyword">where</a> <a id="13386" class="Keyword">postulate</a> <a id="13396" href="/20.07/DeBruijn/#13396" class="Postulate">impossible</a> <a id="13407" class="Symbol">:</a> <a id="13409" href="https://agda.github.io/agda-stdlib/v1.1/Data.Empty.html#279" class="Datatype">⊥</a>
</pre><p>This requires the same trick as before.</p><p>We can then introduce a convenient abbreviation for variables:</p><pre class="Agda"><a id="#_"></a><a id="13523" href="/20.07/DeBruijn/#13523" class="Function Operator">#_</a> <a id="13526" class="Symbol">:</a> <a id="13528" class="Symbol">∀</a> <a id="13530" class="Symbol">{</a><a id="13531" href="/20.07/DeBruijn/#13531" class="Bound">Γ</a><a id="13532" class="Symbol">}</a> <a id="13534" class="Symbol">→</a> <a id="13536" class="Symbol">(</a><a id="13537" href="/20.07/DeBruijn/#13537" class="Bound">n</a> <a id="13539" class="Symbol">:</a> <a id="13541" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="13542" class="Symbol">)</a> <a id="13544" class="Symbol">→</a> <a id="13546" href="/20.07/DeBruijn/#13531" class="Bound">Γ</a> <a id="13548" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="13550" href="/20.07/DeBruijn/#12721" class="Function">lookup</a> <a id="13557" href="/20.07/DeBruijn/#13531" class="Bound">Γ</a> <a id="13559" href="/20.07/DeBruijn/#13537" class="Bound">n</a>
<a id="13561" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="13563" href="/20.07/DeBruijn/#13563" class="Bound">n</a>  <a id="13566" class="Symbol">=</a>  <a id="13569" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="13571" href="/20.07/DeBruijn/#13227" class="Function">count</a> <a id="13577" href="/20.07/DeBruijn/#13563" class="Bound">n</a>
</pre><p>With this abbreviation, we can rewrite the Church numeral two more compactly:</p><pre class="Agda"><a id="13666" href="/20.07/DeBruijn/#13666" class="Function">_</a> <a id="13668" class="Symbol">:</a> <a id="13670" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="13672" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="13674" class="Symbol">(</a><a id="13675" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="13678" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="13680" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="13682" class="Symbol">)</a> <a id="13684" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="13686" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="13689" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="13691" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="13694" class="Symbol">_</a> <a id="13696" class="Symbol">=</a> <a id="13698" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="13700" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="13702" class="Symbol">(</a><a id="13703" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="13705" class="Number">1</a> <a id="13707" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="13709" class="Symbol">(</a><a id="13710" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="13712" class="Number">1</a> <a id="13714" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="13716" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="13718" class="Number">0</a><a id="13719" class="Symbol">))</a>
</pre><h3 id="examples">Test examples</h3><p>We repeat the test examples from Chapter <a href="/20.07/Lambda/">Lambda</a>. You can find them <a href="/20.07/Lambda/#derivation">here</a> for comparison.</p><p>First, computing two plus two on naturals:</p><pre class="Agda"><a id="two"></a><a id="13966" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="13970" class="Symbol">:</a> <a id="13972" class="Symbol">∀</a> <a id="13974" class="Symbol">{</a><a id="13975" href="/20.07/DeBruijn/#13975" class="Bound">Γ</a><a id="13976" class="Symbol">}</a> <a id="13978" class="Symbol">→</a> <a id="13980" href="/20.07/DeBruijn/#13975" class="Bound">Γ</a> <a id="13982" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="13984" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="13987" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="13991" class="Symbol">=</a> <a id="13993" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="13998" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="14003" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>

<a id="plus"></a><a id="14010" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="14015" class="Symbol">:</a> <a id="14017" class="Symbol">∀</a> <a id="14019" class="Symbol">{</a><a id="14020" href="/20.07/DeBruijn/#14020" class="Bound">Γ</a><a id="14021" class="Symbol">}</a> <a id="14023" class="Symbol">→</a> <a id="14025" href="/20.07/DeBruijn/#14020" class="Bound">Γ</a> <a id="14027" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="14029" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="14032" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14034" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="14037" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14039" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="14042" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="14047" class="Symbol">=</a> <a id="14049" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="14051" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14053" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14055" class="Symbol">(</a><a id="14056" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="14061" class="Symbol">(</a><a id="14062" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14064" class="Number">1</a><a id="14065" class="Symbol">)</a> <a id="14067" class="Symbol">(</a><a id="14068" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14070" class="Number">0</a><a id="14071" class="Symbol">)</a> <a id="14073" class="Symbol">(</a><a id="14074" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="14079" class="Symbol">(</a><a id="14080" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14082" class="Number">3</a> <a id="14084" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14086" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14088" class="Number">0</a> <a id="14090" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14092" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14094" class="Number">1</a><a id="14095" class="Symbol">)))</a>

<a id="2+2"></a><a id="14100" href="/20.07/DeBruijn/#14100" class="Function">2+2</a> <a id="14104" class="Symbol">:</a> <a id="14106" class="Symbol">∀</a> <a id="14108" class="Symbol">{</a><a id="14109" href="/20.07/DeBruijn/#14109" class="Bound">Γ</a><a id="14110" class="Symbol">}</a> <a id="14112" class="Symbol">→</a> <a id="14114" href="/20.07/DeBruijn/#14109" class="Bound">Γ</a> <a id="14116" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="14118" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="14121" href="/20.07/DeBruijn/#14100" class="Function">2+2</a> <a id="14125" class="Symbol">=</a> <a id="14127" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="14132" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14134" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="14138" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14140" href="/20.07/DeBruijn/#13966" class="Function">two</a>
</pre><p>We generalise to arbitrary contexts because later we will give examples where <code class="language-plaintext highlighter-rouge">two</code> appears nested inside binders.</p><p>Next, computing two plus two on Church numerals:</p><pre class="Agda"><a id="Ch"></a><a id="14317" href="/20.07/DeBruijn/#14317" class="Function">Ch</a> <a id="14320" class="Symbol">:</a> <a id="14322" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a> <a id="14327" class="Symbol">→</a> <a id="14329" href="/20.07/DeBruijn/#8711" class="Datatype">Type</a>
<a id="14334" href="/20.07/DeBruijn/#14317" class="Function">Ch</a> <a id="14337" href="/20.07/DeBruijn/#14337" class="Bound">A</a>  <a id="14340" class="Symbol">=</a>  <a id="14343" class="Symbol">(</a><a id="14344" href="/20.07/DeBruijn/#14337" class="Bound">A</a> <a id="14346" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14348" href="/20.07/DeBruijn/#14337" class="Bound">A</a><a id="14349" class="Symbol">)</a> <a id="14351" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14353" href="/20.07/DeBruijn/#14337" class="Bound">A</a> <a id="14355" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14357" href="/20.07/DeBruijn/#14337" class="Bound">A</a>

<a id="twoᶜ"></a><a id="14360" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="14365" class="Symbol">:</a> <a id="14367" class="Symbol">∀</a> <a id="14369" class="Symbol">{</a><a id="14370" href="/20.07/DeBruijn/#14370" class="Bound">Γ</a> <a id="14372" href="/20.07/DeBruijn/#14372" class="Bound">A</a><a id="14373" class="Symbol">}</a> <a id="14375" class="Symbol">→</a> <a id="14377" href="/20.07/DeBruijn/#14370" class="Bound">Γ</a> <a id="14379" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="14381" href="/20.07/DeBruijn/#14317" class="Function">Ch</a> <a id="14384" href="/20.07/DeBruijn/#14372" class="Bound">A</a>
<a id="14386" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="14391" class="Symbol">=</a> <a id="14393" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14395" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14397" class="Symbol">(</a><a id="14398" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14400" class="Number">1</a> <a id="14402" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14404" class="Symbol">(</a><a id="14405" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14407" class="Number">1</a> <a id="14409" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14411" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14413" class="Number">0</a><a id="14414" class="Symbol">))</a>

<a id="plusᶜ"></a><a id="14418" href="/20.07/DeBruijn/#14418" class="Function">plusᶜ</a> <a id="14424" class="Symbol">:</a> <a id="14426" class="Symbol">∀</a> <a id="14428" class="Symbol">{</a><a id="14429" href="/20.07/DeBruijn/#14429" class="Bound">Γ</a> <a id="14431" href="/20.07/DeBruijn/#14431" class="Bound">A</a><a id="14432" class="Symbol">}</a> <a id="14434" class="Symbol">→</a> <a id="14436" href="/20.07/DeBruijn/#14429" class="Bound">Γ</a> <a id="14438" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="14440" href="/20.07/DeBruijn/#14317" class="Function">Ch</a> <a id="14443" href="/20.07/DeBruijn/#14431" class="Bound">A</a> <a id="14445" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14447" href="/20.07/DeBruijn/#14317" class="Function">Ch</a> <a id="14450" href="/20.07/DeBruijn/#14431" class="Bound">A</a> <a id="14452" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14454" href="/20.07/DeBruijn/#14317" class="Function">Ch</a> <a id="14457" href="/20.07/DeBruijn/#14431" class="Bound">A</a>
<a id="14459" href="/20.07/DeBruijn/#14418" class="Function">plusᶜ</a> <a id="14465" class="Symbol">=</a> <a id="14467" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14469" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14471" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14473" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14475" class="Symbol">(</a><a id="14476" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14478" class="Number">3</a> <a id="14480" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14482" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14484" class="Number">1</a> <a id="14486" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14488" class="Symbol">(</a><a id="14489" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14491" class="Number">2</a> <a id="14493" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14495" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14497" class="Number">1</a> <a id="14499" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14501" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14503" class="Number">0</a><a id="14504" class="Symbol">))</a>

<a id="sucᶜ"></a><a id="14508" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="14513" class="Symbol">:</a> <a id="14515" class="Symbol">∀</a> <a id="14517" class="Symbol">{</a><a id="14518" href="/20.07/DeBruijn/#14518" class="Bound">Γ</a><a id="14519" class="Symbol">}</a> <a id="14521" class="Symbol">→</a> <a id="14523" href="/20.07/DeBruijn/#14518" class="Bound">Γ</a> <a id="14525" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="14527" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="14530" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="14532" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="14535" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="14540" class="Symbol">=</a> <a id="14542" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="14544" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="14549" class="Symbol">(</a><a id="14550" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="14552" class="Number">0</a><a id="14553" class="Symbol">)</a>

<a id="2+2ᶜ"></a><a id="14556" href="/20.07/DeBruijn/#14556" class="Function">2+2ᶜ</a> <a id="14561" class="Symbol">:</a> <a id="14563" class="Symbol">∀</a> <a id="14565" class="Symbol">{</a><a id="14566" href="/20.07/DeBruijn/#14566" class="Bound">Γ</a><a id="14567" class="Symbol">}</a> <a id="14569" class="Symbol">→</a> <a id="14571" href="/20.07/DeBruijn/#14566" class="Bound">Γ</a> <a id="14573" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="14575" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="14578" href="/20.07/DeBruijn/#14556" class="Function">2+2ᶜ</a> <a id="14583" class="Symbol">=</a> <a id="14585" href="/20.07/DeBruijn/#14418" class="Function">plusᶜ</a> <a id="14591" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14593" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="14598" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14600" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="14605" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14607" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="14612" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="14614" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
</pre><p>As before we generalise everything to arbitrary contexts. While we are at it, we also generalise <code class="language-plaintext highlighter-rouge">twoᶜ</code> and <code class="language-plaintext highlighter-rouge">plusᶜ</code> to Church numerals over arbitrary types.</p><h4 id="exercise-mul-recommended">Exercise <code class="language-plaintext highlighter-rouge">mul</code> (recommended)</h4><p>Write out the definition of a lambda term that multiplies two natural numbers, now adapted to the intrinsically-typed DeBruijn representation.</p><pre class="Agda"><a id="14968" class="Comment">-- Your code goes here</a>
</pre><h2 id="renaming">Renaming</h2><p>Renaming is a necessary prelude to substitution, enabling us to “rebase” a term from one context to another. It corresponds directly to the renaming result from the previous chapter, but here the theorem that ensures renaming preserves typing also acts as code that performs renaming.</p><p>As before, we first need an extension lemma that allows us to extend the context when we encounter a binder. Given a map from variables in one context to variables in another, extension yields a map from the first context extended to the second context similarly extended. It looks exactly like the old extension lemma, but with all names and terms dropped:</p><pre class="Agda"><a id="ext"></a><a id="15660" href="/20.07/DeBruijn/#15660" class="Function">ext</a> <a id="15664" class="Symbol">:</a> <a id="15666" class="Symbol">∀</a> <a id="15668" class="Symbol">{</a><a id="15669" href="/20.07/DeBruijn/#15669" class="Bound">Γ</a> <a id="15671" href="/20.07/DeBruijn/#15671" class="Bound">Δ</a><a id="15672" class="Symbol">}</a>
  <a id="15676" class="Symbol">→</a> <a id="15678" class="Symbol">(∀</a> <a id="15681" class="Symbol">{</a><a id="15682" href="/20.07/DeBruijn/#15682" class="Bound">A</a><a id="15683" class="Symbol">}</a> <a id="15685" class="Symbol">→</a>       <a id="15693" href="/20.07/DeBruijn/#15669" class="Bound">Γ</a> <a id="15695" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="15697" href="/20.07/DeBruijn/#15682" class="Bound">A</a> <a id="15699" class="Symbol">→</a>     <a id="15705" href="/20.07/DeBruijn/#15671" class="Bound">Δ</a> <a id="15707" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="15709" href="/20.07/DeBruijn/#15682" class="Bound">A</a><a id="15710" class="Symbol">)</a>
    <a id="15716" class="Comment">---------------------------------</a>
  <a id="15752" class="Symbol">→</a> <a id="15754" class="Symbol">(∀</a> <a id="15757" class="Symbol">{</a><a id="15758" href="/20.07/DeBruijn/#15758" class="Bound">A</a> <a id="15760" href="/20.07/DeBruijn/#15760" class="Bound">B</a><a id="15761" class="Symbol">}</a> <a id="15763" class="Symbol">→</a> <a id="15765" href="/20.07/DeBruijn/#15669" class="Bound">Γ</a> <a id="15767" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="15769" href="/20.07/DeBruijn/#15760" class="Bound">B</a> <a id="15771" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="15773" href="/20.07/DeBruijn/#15758" class="Bound">A</a> <a id="15775" class="Symbol">→</a> <a id="15777" href="/20.07/DeBruijn/#15671" class="Bound">Δ</a> <a id="15779" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="15781" href="/20.07/DeBruijn/#15760" class="Bound">B</a> <a id="15783" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="15785" href="/20.07/DeBruijn/#15758" class="Bound">A</a><a id="15786" class="Symbol">)</a>
<a id="15788" href="/20.07/DeBruijn/#15660" class="Function">ext</a> <a id="15792" href="/20.07/DeBruijn/#15792" class="Bound">ρ</a> <a id="15794" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>      <a id="15801" class="Symbol">=</a>  <a id="15804" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
<a id="15806" href="/20.07/DeBruijn/#15660" class="Function">ext</a> <a id="15810" href="/20.07/DeBruijn/#15810" class="Bound">ρ</a> <a id="15812" class="Symbol">(</a><a id="15813" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="15815" href="/20.07/DeBruijn/#15815" class="Bound">x</a><a id="15816" class="Symbol">)</a>  <a id="15819" class="Symbol">=</a>  <a id="15822" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="15824" class="Symbol">(</a><a id="15825" href="/20.07/DeBruijn/#15810" class="Bound">ρ</a> <a id="15827" href="/20.07/DeBruijn/#15815" class="Bound">x</a><a id="15828" class="Symbol">)</a>
</pre><p>Let <code class="language-plaintext highlighter-rouge">ρ</code> be the name of the map that takes variables in <code class="language-plaintext highlighter-rouge">Γ</code> to variables in <code class="language-plaintext highlighter-rouge">Δ</code>. Consider the de Bruijn index of the variable in <code class="language-plaintext highlighter-rouge">Γ , B</code>:</p><ul><li><p>If it is <code class="language-plaintext highlighter-rouge">Z</code>, which has type <code class="language-plaintext highlighter-rouge">B</code> in <code class="language-plaintext highlighter-rouge">Γ , B</code>, then we return <code class="language-plaintext highlighter-rouge">Z</code>, which also has type <code class="language-plaintext highlighter-rouge">B</code> in <code class="language-plaintext highlighter-rouge">Δ , B</code>.</p></li><li><p>If it is <code class="language-plaintext highlighter-rouge">S x</code>, for some variable <code class="language-plaintext highlighter-rouge">x</code> in <code class="language-plaintext highlighter-rouge">Γ</code>, then <code class="language-plaintext highlighter-rouge">ρ x</code> is a variable in <code class="language-plaintext highlighter-rouge">Δ</code>, and hence <code class="language-plaintext highlighter-rouge">S (ρ x)</code> is a variable in <code class="language-plaintext highlighter-rouge">Δ , B</code>.</p></li></ul><p>With extension under our belts, it is straightforward to define renaming. If variables in one context map to variables in another, then terms in the first context map to terms in the second:</p><pre class="Agda"><a id="rename"></a><a id="16407" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16414" class="Symbol">:</a> <a id="16416" class="Symbol">∀</a> <a id="16418" class="Symbol">{</a><a id="16419" href="/20.07/DeBruijn/#16419" class="Bound">Γ</a> <a id="16421" href="/20.07/DeBruijn/#16421" class="Bound">Δ</a><a id="16422" class="Symbol">}</a>
  <a id="16426" class="Symbol">→</a> <a id="16428" class="Symbol">(∀</a> <a id="16431" class="Symbol">{</a><a id="16432" href="/20.07/DeBruijn/#16432" class="Bound">A</a><a id="16433" class="Symbol">}</a> <a id="16435" class="Symbol">→</a> <a id="16437" href="/20.07/DeBruijn/#16419" class="Bound">Γ</a> <a id="16439" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="16441" href="/20.07/DeBruijn/#16432" class="Bound">A</a> <a id="16443" class="Symbol">→</a> <a id="16445" href="/20.07/DeBruijn/#16421" class="Bound">Δ</a> <a id="16447" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="16449" href="/20.07/DeBruijn/#16432" class="Bound">A</a><a id="16450" class="Symbol">)</a>
    <a id="16456" class="Comment">-----------------------</a>
  <a id="16482" class="Symbol">→</a> <a id="16484" class="Symbol">(∀</a> <a id="16487" class="Symbol">{</a><a id="16488" href="/20.07/DeBruijn/#16488" class="Bound">A</a><a id="16489" class="Symbol">}</a> <a id="16491" class="Symbol">→</a> <a id="16493" href="/20.07/DeBruijn/#16419" class="Bound">Γ</a> <a id="16495" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="16497" href="/20.07/DeBruijn/#16488" class="Bound">A</a> <a id="16499" class="Symbol">→</a> <a id="16501" href="/20.07/DeBruijn/#16421" class="Bound">Δ</a> <a id="16503" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="16505" href="/20.07/DeBruijn/#16488" class="Bound">A</a><a id="16506" class="Symbol">)</a>
<a id="16508" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16515" href="/20.07/DeBruijn/#16515" class="Bound">ρ</a> <a id="16517" class="Symbol">(</a><a id="16518" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="16520" href="/20.07/DeBruijn/#16520" class="Bound">x</a><a id="16521" class="Symbol">)</a>          <a id="16532" class="Symbol">=</a>  <a id="16535" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="16537" class="Symbol">(</a><a id="16538" href="/20.07/DeBruijn/#16515" class="Bound">ρ</a> <a id="16540" href="/20.07/DeBruijn/#16520" class="Bound">x</a><a id="16541" class="Symbol">)</a>
<a id="16543" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16550" href="/20.07/DeBruijn/#16550" class="Bound">ρ</a> <a id="16552" class="Symbol">(</a><a id="16553" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="16555" href="/20.07/DeBruijn/#16555" class="Bound">N</a><a id="16556" class="Symbol">)</a>          <a id="16567" class="Symbol">=</a>  <a id="16570" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="16572" class="Symbol">(</a><a id="16573" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16580" class="Symbol">(</a><a id="16581" href="/20.07/DeBruijn/#15660" class="Function">ext</a> <a id="16585" href="/20.07/DeBruijn/#16550" class="Bound">ρ</a><a id="16586" class="Symbol">)</a> <a id="16588" href="/20.07/DeBruijn/#16555" class="Bound">N</a><a id="16589" class="Symbol">)</a>
<a id="16591" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16598" href="/20.07/DeBruijn/#16598" class="Bound">ρ</a> <a id="16600" class="Symbol">(</a><a id="16601" href="/20.07/DeBruijn/#16601" class="Bound">L</a> <a id="16603" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="16605" href="/20.07/DeBruijn/#16605" class="Bound">M</a><a id="16606" class="Symbol">)</a>        <a id="16615" class="Symbol">=</a>  <a id="16618" class="Symbol">(</a><a id="16619" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16626" href="/20.07/DeBruijn/#16598" class="Bound">ρ</a> <a id="16628" href="/20.07/DeBruijn/#16601" class="Bound">L</a><a id="16629" class="Symbol">)</a> <a id="16631" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="16633" class="Symbol">(</a><a id="16634" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16641" href="/20.07/DeBruijn/#16598" class="Bound">ρ</a> <a id="16643" href="/20.07/DeBruijn/#16605" class="Bound">M</a><a id="16644" class="Symbol">)</a>
<a id="16646" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16653" href="/20.07/DeBruijn/#16653" class="Bound">ρ</a> <a id="16655" class="Symbol">(</a><a id="16656" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="16661" class="Symbol">)</a>        <a id="16670" class="Symbol">=</a>  <a id="16673" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
<a id="16679" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16686" href="/20.07/DeBruijn/#16686" class="Bound">ρ</a> <a id="16688" class="Symbol">(</a><a id="16689" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="16694" href="/20.07/DeBruijn/#16694" class="Bound">M</a><a id="16695" class="Symbol">)</a>       <a id="16703" class="Symbol">=</a>  <a id="16706" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="16711" class="Symbol">(</a><a id="16712" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16719" href="/20.07/DeBruijn/#16686" class="Bound">ρ</a> <a id="16721" href="/20.07/DeBruijn/#16694" class="Bound">M</a><a id="16722" class="Symbol">)</a>
<a id="16724" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16731" href="/20.07/DeBruijn/#16731" class="Bound">ρ</a> <a id="16733" class="Symbol">(</a><a id="16734" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="16739" href="/20.07/DeBruijn/#16739" class="Bound">L</a> <a id="16741" href="/20.07/DeBruijn/#16741" class="Bound">M</a> <a id="16743" href="/20.07/DeBruijn/#16743" class="Bound">N</a><a id="16744" class="Symbol">)</a>   <a id="16748" class="Symbol">=</a>  <a id="16751" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="16756" class="Symbol">(</a><a id="16757" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16764" href="/20.07/DeBruijn/#16731" class="Bound">ρ</a> <a id="16766" href="/20.07/DeBruijn/#16739" class="Bound">L</a><a id="16767" class="Symbol">)</a> <a id="16769" class="Symbol">(</a><a id="16770" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16777" href="/20.07/DeBruijn/#16731" class="Bound">ρ</a> <a id="16779" href="/20.07/DeBruijn/#16741" class="Bound">M</a><a id="16780" class="Symbol">)</a> <a id="16782" class="Symbol">(</a><a id="16783" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16790" class="Symbol">(</a><a id="16791" href="/20.07/DeBruijn/#15660" class="Function">ext</a> <a id="16795" href="/20.07/DeBruijn/#16731" class="Bound">ρ</a><a id="16796" class="Symbol">)</a> <a id="16798" href="/20.07/DeBruijn/#16743" class="Bound">N</a><a id="16799" class="Symbol">)</a>
<a id="16801" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16808" href="/20.07/DeBruijn/#16808" class="Bound">ρ</a> <a id="16810" class="Symbol">(</a><a id="16811" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="16813" href="/20.07/DeBruijn/#16813" class="Bound">N</a><a id="16814" class="Symbol">)</a>          <a id="16825" class="Symbol">=</a>  <a id="16828" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="16830" class="Symbol">(</a><a id="16831" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="16838" class="Symbol">(</a><a id="16839" href="/20.07/DeBruijn/#15660" class="Function">ext</a> <a id="16843" href="/20.07/DeBruijn/#16808" class="Bound">ρ</a><a id="16844" class="Symbol">)</a> <a id="16846" href="/20.07/DeBruijn/#16813" class="Bound">N</a><a id="16847" class="Symbol">)</a>
</pre><p>Let <code class="language-plaintext highlighter-rouge">ρ</code> be the name of the map that takes variables in <code class="language-plaintext highlighter-rouge">Γ</code> to variables in <code class="language-plaintext highlighter-rouge">Δ</code>. Let’s unpack the first three cases:</p><ul><li><p>If the term is a variable, simply apply <code class="language-plaintext highlighter-rouge">ρ</code>.</p></li><li><p>If the term is an abstraction, use the previous result to extend the map <code class="language-plaintext highlighter-rouge">ρ</code> suitably and recursively rename the body of the abstraction.</p></li><li><p>If the term is an application, recursively rename both the function and the argument.</p></li></ul><p>The remaining cases are similar, recursing on each subterm, and extending the map whenever the construct introduces a bound variable.</p><p>Whereas before renaming was a result that carried evidence that a term is well typed in one context to evidence that it is well typed in another context, now it actually transforms the term, suitably altering the bound variables. Typechecking the code in Agda ensures that it is only passed and returns terms that are well typed by the rules of simply-typed lambda calculus.</p><p>Here is an example of renaming a term with one free and one bound variable:</p><pre class="Agda"><a id="M₀"></a><a id="17846" href="/20.07/DeBruijn/#17846" class="Function">M₀</a> <a id="17849" class="Symbol">:</a> <a id="17851" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="17853" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="17855" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="17858" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="17860" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="17863" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="17865" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="17868" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="17870" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="17873" href="/20.07/DeBruijn/#17846" class="Function">M₀</a> <a id="17876" class="Symbol">=</a> <a id="17878" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="17880" class="Symbol">(</a><a id="17881" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="17883" class="Number">1</a> <a id="17885" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="17887" class="Symbol">(</a><a id="17888" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="17890" class="Number">1</a> <a id="17892" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="17894" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="17896" class="Number">0</a><a id="17897" class="Symbol">))</a>

<a id="M₁"></a><a id="17901" href="/20.07/DeBruijn/#17901" class="Function">M₁</a> <a id="17904" class="Symbol">:</a> <a id="17906" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="17908" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="17910" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="17913" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="17915" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="17918" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="17920" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="17923" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="17925" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="17928" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="17930" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="17933" href="/20.07/DeBruijn/#17901" class="Function">M₁</a> <a id="17936" class="Symbol">=</a> <a id="17938" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="17940" class="Symbol">(</a><a id="17941" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="17943" class="Number">2</a> <a id="17945" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="17947" class="Symbol">(</a><a id="17948" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="17950" class="Number">2</a> <a id="17952" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="17954" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="17956" class="Number">0</a><a id="17957" class="Symbol">))</a>

<a id="17961" href="/20.07/DeBruijn/#17961" class="Function">_</a> <a id="17963" class="Symbol">:</a> <a id="17965" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="17972" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S_</a> <a id="17975" href="/20.07/DeBruijn/#17846" class="Function">M₀</a> <a id="17978" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="17980" href="/20.07/DeBruijn/#17901" class="Function">M₁</a>
<a id="17983" class="Symbol">_</a> <a id="17985" class="Symbol">=</a> <a id="17987" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre><p>In general, <code class="language-plaintext highlighter-rouge">rename S_</code> will increment the de Bruijn index for each free variable by one, while leaving the index for each bound variable unchanged. The code achieves this naturally: the map originally increments each variable by one, and is extended for each bound variable by a map that leaves it unchanged.</p><p>We will see below that renaming by <code class="language-plaintext highlighter-rouge">S_</code> plays a key role in substitution. For traditional uses of de Bruijn indices without intrinsic typing, this is a little tricky. The code keeps count of a number where all greater indexes are free and all smaller indexes bound, and increment only indexes greater than the number. It’s easy to have off-by-one errors. But it’s hard to imagine an off-by-one error that preserves typing, and hence the Agda code for intrinsically-typed de Bruijn terms is intrinsically reliable.</p><h2 id="simultaneous-substitution">Simultaneous Substitution</h2><p>Because de Bruijn indices free us of concerns with renaming, it becomes easy to provide a definition of substitution that is more general than the one considered previously. Instead of substituting a closed term for a single variable, it provides a map that takes each free variable of the original term to another term. Further, the substituted terms are over an arbitrary context, and need not be closed.</p><p>The structure of the definition and the proof is remarkably close to that for renaming. Again, we first need an extension lemma that allows us to extend the context when we encounter a binder. Whereas renaming concerned a map from variables in one context to variables in another, substitution takes a map from variables in one context to <em>terms</em> in another. Given a map from variables in one context to terms over another, extension yields a map from the first context extended to the second context similarly extended:</p><pre class="Agda"><a id="exts"></a><a id="19792" href="/20.07/DeBruijn/#19792" class="Function">exts</a> <a id="19797" class="Symbol">:</a> <a id="19799" class="Symbol">∀</a> <a id="19801" class="Symbol">{</a><a id="19802" href="/20.07/DeBruijn/#19802" class="Bound">Γ</a> <a id="19804" href="/20.07/DeBruijn/#19804" class="Bound">Δ</a><a id="19805" class="Symbol">}</a>
  <a id="19809" class="Symbol">→</a> <a id="19811" class="Symbol">(∀</a> <a id="19814" class="Symbol">{</a><a id="19815" href="/20.07/DeBruijn/#19815" class="Bound">A</a><a id="19816" class="Symbol">}</a> <a id="19818" class="Symbol">→</a>       <a id="19826" href="/20.07/DeBruijn/#19802" class="Bound">Γ</a> <a id="19828" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="19830" href="/20.07/DeBruijn/#19815" class="Bound">A</a> <a id="19832" class="Symbol">→</a>     <a id="19838" href="/20.07/DeBruijn/#19804" class="Bound">Δ</a> <a id="19840" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="19842" href="/20.07/DeBruijn/#19815" class="Bound">A</a><a id="19843" class="Symbol">)</a>
    <a id="19849" class="Comment">---------------------------------</a>
  <a id="19885" class="Symbol">→</a> <a id="19887" class="Symbol">(∀</a> <a id="19890" class="Symbol">{</a><a id="19891" href="/20.07/DeBruijn/#19891" class="Bound">A</a> <a id="19893" href="/20.07/DeBruijn/#19893" class="Bound">B</a><a id="19894" class="Symbol">}</a> <a id="19896" class="Symbol">→</a> <a id="19898" href="/20.07/DeBruijn/#19802" class="Bound">Γ</a> <a id="19900" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="19902" href="/20.07/DeBruijn/#19893" class="Bound">B</a> <a id="19904" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="19906" href="/20.07/DeBruijn/#19891" class="Bound">A</a> <a id="19908" class="Symbol">→</a> <a id="19910" href="/20.07/DeBruijn/#19804" class="Bound">Δ</a> <a id="19912" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="19914" href="/20.07/DeBruijn/#19893" class="Bound">B</a> <a id="19916" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="19918" href="/20.07/DeBruijn/#19891" class="Bound">A</a><a id="19919" class="Symbol">)</a>
<a id="19921" href="/20.07/DeBruijn/#19792" class="Function">exts</a> <a id="19926" href="/20.07/DeBruijn/#19926" class="Bound">σ</a> <a id="19928" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>      <a id="19935" class="Symbol">=</a>  <a id="19938" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="19940" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
<a id="19942" href="/20.07/DeBruijn/#19792" class="Function">exts</a> <a id="19947" href="/20.07/DeBruijn/#19947" class="Bound">σ</a> <a id="19949" class="Symbol">(</a><a id="19950" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="19952" href="/20.07/DeBruijn/#19952" class="Bound">x</a><a id="19953" class="Symbol">)</a>  <a id="19956" class="Symbol">=</a>  <a id="19959" href="/20.07/DeBruijn/#16407" class="Function">rename</a> <a id="19966" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S_</a> <a id="19969" class="Symbol">(</a><a id="19970" href="/20.07/DeBruijn/#19947" class="Bound">σ</a> <a id="19972" href="/20.07/DeBruijn/#19952" class="Bound">x</a><a id="19973" class="Symbol">)</a>
</pre><p>Let <code class="language-plaintext highlighter-rouge">σ</code> be the name of the map that takes variables in <code class="language-plaintext highlighter-rouge">Γ</code> to terms over <code class="language-plaintext highlighter-rouge">Δ</code>. Consider the de Bruijn index of the variable in <code class="language-plaintext highlighter-rouge">Γ , B</code>:</p><ul><li><p>If it is <code class="language-plaintext highlighter-rouge">Z</code>, which has type <code class="language-plaintext highlighter-rouge">B</code> in <code class="language-plaintext highlighter-rouge">Γ , B</code>, then we return the term <code class="language-plaintext highlighter-rouge">` Z</code>, which also has type <code class="language-plaintext highlighter-rouge">B</code> in <code class="language-plaintext highlighter-rouge">Δ , B</code>.</p></li><li><p>If it is <code class="language-plaintext highlighter-rouge">S x</code>, for some variable <code class="language-plaintext highlighter-rouge">x</code> in <code class="language-plaintext highlighter-rouge">Γ</code>, then <code class="language-plaintext highlighter-rouge">σ x</code> is a term in <code class="language-plaintext highlighter-rouge">Δ</code>, and hence <code class="language-plaintext highlighter-rouge">rename S_ (σ x)</code> is a term in <code class="language-plaintext highlighter-rouge">Δ , B</code>.</p></li></ul><p>This is why we had to define renaming first, since we require it to convert a term over context <code class="language-plaintext highlighter-rouge">Δ</code> to a term over the extended context <code class="language-plaintext highlighter-rouge">Δ , B</code>.</p><p>With extension under our belts, it is straightforward to define substitution. If variables in one context map to terms over another, then terms in the first context map to terms in the second:</p><pre class="Agda"><a id="subst"></a><a id="20714" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20720" class="Symbol">:</a> <a id="20722" class="Symbol">∀</a> <a id="20724" class="Symbol">{</a><a id="20725" href="/20.07/DeBruijn/#20725" class="Bound">Γ</a> <a id="20727" href="/20.07/DeBruijn/#20727" class="Bound">Δ</a><a id="20728" class="Symbol">}</a>
  <a id="20732" class="Symbol">→</a> <a id="20734" class="Symbol">(∀</a> <a id="20737" class="Symbol">{</a><a id="20738" href="/20.07/DeBruijn/#20738" class="Bound">A</a><a id="20739" class="Symbol">}</a> <a id="20741" class="Symbol">→</a> <a id="20743" href="/20.07/DeBruijn/#20725" class="Bound">Γ</a> <a id="20745" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="20747" href="/20.07/DeBruijn/#20738" class="Bound">A</a> <a id="20749" class="Symbol">→</a> <a id="20751" href="/20.07/DeBruijn/#20727" class="Bound">Δ</a> <a id="20753" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="20755" href="/20.07/DeBruijn/#20738" class="Bound">A</a><a id="20756" class="Symbol">)</a>
    <a id="20762" class="Comment">-----------------------</a>
  <a id="20788" class="Symbol">→</a> <a id="20790" class="Symbol">(∀</a> <a id="20793" class="Symbol">{</a><a id="20794" href="/20.07/DeBruijn/#20794" class="Bound">A</a><a id="20795" class="Symbol">}</a> <a id="20797" class="Symbol">→</a> <a id="20799" href="/20.07/DeBruijn/#20725" class="Bound">Γ</a> <a id="20801" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="20803" href="/20.07/DeBruijn/#20794" class="Bound">A</a> <a id="20805" class="Symbol">→</a> <a id="20807" href="/20.07/DeBruijn/#20727" class="Bound">Δ</a> <a id="20809" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="20811" href="/20.07/DeBruijn/#20794" class="Bound">A</a><a id="20812" class="Symbol">)</a>
<a id="20814" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20820" href="/20.07/DeBruijn/#20820" class="Bound">σ</a> <a id="20822" class="Symbol">(</a><a id="20823" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="20825" href="/20.07/DeBruijn/#20825" class="Bound">k</a><a id="20826" class="Symbol">)</a>          <a id="20837" class="Symbol">=</a>  <a id="20840" href="/20.07/DeBruijn/#20820" class="Bound">σ</a> <a id="20842" href="/20.07/DeBruijn/#20825" class="Bound">k</a>
<a id="20844" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20850" href="/20.07/DeBruijn/#20850" class="Bound">σ</a> <a id="20852" class="Symbol">(</a><a id="20853" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="20855" href="/20.07/DeBruijn/#20855" class="Bound">N</a><a id="20856" class="Symbol">)</a>          <a id="20867" class="Symbol">=</a>  <a id="20870" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="20872" class="Symbol">(</a><a id="20873" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20879" class="Symbol">(</a><a id="20880" href="/20.07/DeBruijn/#19792" class="Function">exts</a> <a id="20885" href="/20.07/DeBruijn/#20850" class="Bound">σ</a><a id="20886" class="Symbol">)</a> <a id="20888" href="/20.07/DeBruijn/#20855" class="Bound">N</a><a id="20889" class="Symbol">)</a>
<a id="20891" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20897" href="/20.07/DeBruijn/#20897" class="Bound">σ</a> <a id="20899" class="Symbol">(</a><a id="20900" href="/20.07/DeBruijn/#20900" class="Bound">L</a> <a id="20902" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="20904" href="/20.07/DeBruijn/#20904" class="Bound">M</a><a id="20905" class="Symbol">)</a>        <a id="20914" class="Symbol">=</a>  <a id="20917" class="Symbol">(</a><a id="20918" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20924" href="/20.07/DeBruijn/#20897" class="Bound">σ</a> <a id="20926" href="/20.07/DeBruijn/#20900" class="Bound">L</a><a id="20927" class="Symbol">)</a> <a id="20929" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="20931" class="Symbol">(</a><a id="20932" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20938" href="/20.07/DeBruijn/#20897" class="Bound">σ</a> <a id="20940" href="/20.07/DeBruijn/#20904" class="Bound">M</a><a id="20941" class="Symbol">)</a>
<a id="20943" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20949" href="/20.07/DeBruijn/#20949" class="Bound">σ</a> <a id="20951" class="Symbol">(</a><a id="20952" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="20957" class="Symbol">)</a>        <a id="20966" class="Symbol">=</a>  <a id="20969" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
<a id="20975" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="20981" href="/20.07/DeBruijn/#20981" class="Bound">σ</a> <a id="20983" class="Symbol">(</a><a id="20984" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="20989" href="/20.07/DeBruijn/#20989" class="Bound">M</a><a id="20990" class="Symbol">)</a>       <a id="20998" class="Symbol">=</a>  <a id="21001" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="21006" class="Symbol">(</a><a id="21007" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21013" href="/20.07/DeBruijn/#20981" class="Bound">σ</a> <a id="21015" href="/20.07/DeBruijn/#20989" class="Bound">M</a><a id="21016" class="Symbol">)</a>
<a id="21018" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21024" href="/20.07/DeBruijn/#21024" class="Bound">σ</a> <a id="21026" class="Symbol">(</a><a id="21027" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="21032" href="/20.07/DeBruijn/#21032" class="Bound">L</a> <a id="21034" href="/20.07/DeBruijn/#21034" class="Bound">M</a> <a id="21036" href="/20.07/DeBruijn/#21036" class="Bound">N</a><a id="21037" class="Symbol">)</a>   <a id="21041" class="Symbol">=</a>  <a id="21044" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="21049" class="Symbol">(</a><a id="21050" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21056" href="/20.07/DeBruijn/#21024" class="Bound">σ</a> <a id="21058" href="/20.07/DeBruijn/#21032" class="Bound">L</a><a id="21059" class="Symbol">)</a> <a id="21061" class="Symbol">(</a><a id="21062" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21068" href="/20.07/DeBruijn/#21024" class="Bound">σ</a> <a id="21070" href="/20.07/DeBruijn/#21034" class="Bound">M</a><a id="21071" class="Symbol">)</a> <a id="21073" class="Symbol">(</a><a id="21074" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21080" class="Symbol">(</a><a id="21081" href="/20.07/DeBruijn/#19792" class="Function">exts</a> <a id="21086" href="/20.07/DeBruijn/#21024" class="Bound">σ</a><a id="21087" class="Symbol">)</a> <a id="21089" href="/20.07/DeBruijn/#21036" class="Bound">N</a><a id="21090" class="Symbol">)</a>
<a id="21092" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21098" href="/20.07/DeBruijn/#21098" class="Bound">σ</a> <a id="21100" class="Symbol">(</a><a id="21101" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="21103" href="/20.07/DeBruijn/#21103" class="Bound">N</a><a id="21104" class="Symbol">)</a>          <a id="21115" class="Symbol">=</a>  <a id="21118" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="21120" class="Symbol">(</a><a id="21121" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21127" class="Symbol">(</a><a id="21128" href="/20.07/DeBruijn/#19792" class="Function">exts</a> <a id="21133" href="/20.07/DeBruijn/#21098" class="Bound">σ</a><a id="21134" class="Symbol">)</a> <a id="21136" href="/20.07/DeBruijn/#21103" class="Bound">N</a><a id="21137" class="Symbol">)</a>
</pre><p>Let <code class="language-plaintext highlighter-rouge">σ</code> be the name of the map that takes variables in <code class="language-plaintext highlighter-rouge">Γ</code> to terms over <code class="language-plaintext highlighter-rouge">Δ</code>. Let’s unpack the first three cases:</p><ul><li><p>If the term is a variable, simply apply <code class="language-plaintext highlighter-rouge">σ</code>.</p></li><li><p>If the term is an abstraction, use the previous result to extend the map <code class="language-plaintext highlighter-rouge">σ</code> suitably and recursively substitute over the body of the abstraction.</p></li><li><p>If the term is an application, recursively substitute over both the function and the argument.</p></li></ul><p>The remaining cases are similar, recursing on each subterm, and extending the map whenever the construct introduces a bound variable.</p><h2 id="single-substitution">Single substitution</h2><p>From the general case of substitution for multiple free variables it is easy to define the special case of substitution for one free variable:</p><pre class="Agda"><a id="_[_]"></a><a id="21867" href="/20.07/DeBruijn/#21867" class="Function Operator">_[_]</a> <a id="21872" class="Symbol">:</a> <a id="21874" class="Symbol">∀</a> <a id="21876" class="Symbol">{</a><a id="21877" href="/20.07/DeBruijn/#21877" class="Bound">Γ</a> <a id="21879" href="/20.07/DeBruijn/#21879" class="Bound">A</a> <a id="21881" href="/20.07/DeBruijn/#21881" class="Bound">B</a><a id="21882" class="Symbol">}</a>
        <a id="21892" class="Symbol">→</a> <a id="21894" href="/20.07/DeBruijn/#21877" class="Bound">Γ</a> <a id="21896" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="21898" href="/20.07/DeBruijn/#21881" class="Bound">B</a> <a id="21900" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="21902" href="/20.07/DeBruijn/#21879" class="Bound">A</a>
        <a id="21912" class="Symbol">→</a> <a id="21914" href="/20.07/DeBruijn/#21877" class="Bound">Γ</a> <a id="21916" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="21918" href="/20.07/DeBruijn/#21881" class="Bound">B</a>
          <a id="21930" class="Comment">---------</a>
        <a id="21948" class="Symbol">→</a> <a id="21950" href="/20.07/DeBruijn/#21877" class="Bound">Γ</a> <a id="21952" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="21954" href="/20.07/DeBruijn/#21879" class="Bound">A</a>
<a id="21956" href="/20.07/DeBruijn/#21867" class="Function Operator">_[_]</a> <a id="21961" class="Symbol">{</a><a id="21962" href="/20.07/DeBruijn/#21962" class="Bound">Γ</a><a id="21963" class="Symbol">}</a> <a id="21965" class="Symbol">{</a><a id="21966" href="/20.07/DeBruijn/#21966" class="Bound">A</a><a id="21967" class="Symbol">}</a> <a id="21969" class="Symbol">{</a><a id="21970" href="/20.07/DeBruijn/#21970" class="Bound">B</a><a id="21971" class="Symbol">}</a> <a id="21973" href="/20.07/DeBruijn/#21973" class="Bound">N</a> <a id="21975" href="/20.07/DeBruijn/#21975" class="Bound">M</a> <a id="21977" class="Symbol">=</a>  <a id="21980" href="/20.07/DeBruijn/#20714" class="Function">subst</a> <a id="21986" class="Symbol">{</a><a id="21987" href="/20.07/DeBruijn/#21962" class="Bound">Γ</a> <a id="21989" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="21991" href="/20.07/DeBruijn/#21970" class="Bound">B</a><a id="21992" class="Symbol">}</a> <a id="21994" class="Symbol">{</a><a id="21995" href="/20.07/DeBruijn/#21962" class="Bound">Γ</a><a id="21996" class="Symbol">}</a> <a id="21998" href="/20.07/DeBruijn/#22016" class="Function">σ</a> <a id="22000" class="Symbol">{</a><a id="22001" href="/20.07/DeBruijn/#21966" class="Bound">A</a><a id="22002" class="Symbol">}</a> <a id="22004" href="/20.07/DeBruijn/#21973" class="Bound">N</a>
  <a id="22008" class="Keyword">where</a>
  <a id="22016" href="/20.07/DeBruijn/#22016" class="Function">σ</a> <a id="22018" class="Symbol">:</a> <a id="22020" class="Symbol">∀</a> <a id="22022" class="Symbol">{</a><a id="22023" href="/20.07/DeBruijn/#22023" class="Bound">A</a><a id="22024" class="Symbol">}</a> <a id="22026" class="Symbol">→</a> <a id="22028" href="/20.07/DeBruijn/#21962" class="Bound">Γ</a> <a id="22030" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="22032" href="/20.07/DeBruijn/#21970" class="Bound">B</a> <a id="22034" href="/20.07/DeBruijn/#9823" class="Datatype Operator">∋</a> <a id="22036" href="/20.07/DeBruijn/#22023" class="Bound">A</a> <a id="22038" class="Symbol">→</a> <a id="22040" href="/20.07/DeBruijn/#21962" class="Bound">Γ</a> <a id="22042" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="22044" href="/20.07/DeBruijn/#22023" class="Bound">A</a>
  <a id="22048" href="/20.07/DeBruijn/#22016" class="Function">σ</a> <a id="22050" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>      <a id="22057" class="Symbol">=</a>  <a id="22060" href="/20.07/DeBruijn/#21975" class="Bound">M</a>
  <a id="22064" href="/20.07/DeBruijn/#22016" class="Function">σ</a> <a id="22066" class="Symbol">(</a><a id="22067" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="22069" href="/20.07/DeBruijn/#22069" class="Bound">x</a><a id="22070" class="Symbol">)</a>  <a id="22073" class="Symbol">=</a>  <a id="22076" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="22078" href="/20.07/DeBruijn/#22069" class="Bound">x</a>
</pre><p>In a term of type <code class="language-plaintext highlighter-rouge">A</code> over context <code class="language-plaintext highlighter-rouge">Γ , B</code>, we replace the variable of type <code class="language-plaintext highlighter-rouge">B</code> by a term of type <code class="language-plaintext highlighter-rouge">B</code> over context <code class="language-plaintext highlighter-rouge">Γ</code>. To do so, we use a map from the context <code class="language-plaintext highlighter-rouge">Γ , B</code> to the context <code class="language-plaintext highlighter-rouge">Γ</code>, that maps the last variable in the context to the term of type <code class="language-plaintext highlighter-rouge">B</code> and every other free variable to itself.</p><p>Consider the previous example:</p><ul><li><code class="language-plaintext highlighter-rouge">(ƛ "z" ⇒ ` "s" · (` "s" · ` "z")) [ "s" := sucᶜ ]</code> yields <code class="language-plaintext highlighter-rouge">ƛ "z" ⇒ sucᶜ · (sucᶜ · ` "z")</code></li></ul><p>Here is the example formalised:</p><pre class="Agda"><a id="M₂"></a><a id="22553" href="/20.07/DeBruijn/#22553" class="Function">M₂</a> <a id="22556" class="Symbol">:</a> <a id="22558" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="22560" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="22562" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="22565" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="22567" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="22570" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="22572" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="22575" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="22577" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="22580" href="/20.07/DeBruijn/#22553" class="Function">M₂</a> <a id="22583" class="Symbol">=</a> <a id="22585" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="22587" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="22589" class="Number">1</a> <a id="22591" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="22593" class="Symbol">(</a><a id="22594" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="22596" class="Number">1</a> <a id="22598" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="22600" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="22602" class="Number">0</a><a id="22603" class="Symbol">)</a>

<a id="M₃"></a><a id="22606" href="/20.07/DeBruijn/#22606" class="Function">M₃</a> <a id="22609" class="Symbol">:</a> <a id="22611" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="22613" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="22615" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="22618" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="22620" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="22623" href="/20.07/DeBruijn/#22606" class="Function">M₃</a> <a id="22626" class="Symbol">=</a> <a id="22628" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="22630" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="22635" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="22637" class="Number">0</a>

<a id="M₄"></a><a id="22640" href="/20.07/DeBruijn/#22640" class="Function">M₄</a> <a id="22643" class="Symbol">:</a> <a id="22645" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="22647" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="22649" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="22652" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="22654" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="22657" href="/20.07/DeBruijn/#22640" class="Function">M₄</a> <a id="22660" class="Symbol">=</a> <a id="22662" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="22664" class="Symbol">(</a><a id="22665" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="22667" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="22672" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="22674" class="Number">0</a><a id="22675" class="Symbol">)</a> <a id="22677" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="22679" class="Symbol">((</a><a id="22681" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="22683" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="22688" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="22690" class="Number">0</a><a id="22691" class="Symbol">)</a> <a id="22693" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="22695" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="22697" class="Number">0</a><a id="22698" class="Symbol">)</a>

<a id="22701" href="/20.07/DeBruijn/#22701" class="Function">_</a> <a id="22703" class="Symbol">:</a> <a id="22705" href="/20.07/DeBruijn/#22553" class="Function">M₂</a> <a id="22708" href="/20.07/DeBruijn/#21867" class="Function Operator">[</a> <a id="22710" href="/20.07/DeBruijn/#22606" class="Function">M₃</a> <a id="22713" href="/20.07/DeBruijn/#21867" class="Function Operator">]</a> <a id="22715" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="22717" href="/20.07/DeBruijn/#22640" class="Function">M₄</a>
<a id="22720" class="Symbol">_</a> <a id="22722" class="Symbol">=</a> <a id="22724" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre><p>Previously, we presented an example of substitution that we did not implement, since it needed to rename the bound variable to avoid capture:</p><ul><li><code class="language-plaintext highlighter-rouge">(ƛ "x" ⇒ ` "x" · ` "y") [ "y" := ` "x" · `zero ]</code> should yield <code class="language-plaintext highlighter-rouge">ƛ "z" ⇒ ` "z" · (` "x" · `zero)</code></li></ul><p>Say the bound <code class="language-plaintext highlighter-rouge">"x"</code> has type <code class="language-plaintext highlighter-rouge">`ℕ ⇒ `ℕ</code>, the substituted <code class="language-plaintext highlighter-rouge">"y"</code> has type <code class="language-plaintext highlighter-rouge">`ℕ</code>, and the free <code class="language-plaintext highlighter-rouge">"x"</code> also has type <code class="language-plaintext highlighter-rouge">`ℕ ⇒ `ℕ</code>. Here is the example formalised:</p><pre class="Agda"><a id="M₅"></a><a id="23158" href="/20.07/DeBruijn/#23158" class="Function">M₅</a> <a id="23161" class="Symbol">:</a> <a id="23163" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="23165" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="23167" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23170" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="23172" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23175" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="23177" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23180" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="23182" class="Symbol">(</a><a id="23183" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23186" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="23188" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="23190" class="Symbol">)</a> <a id="23192" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="23194" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="23197" href="/20.07/DeBruijn/#23158" class="Function">M₅</a> <a id="23200" class="Symbol">=</a> <a id="23202" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="23204" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="23206" class="Number">0</a> <a id="23208" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="23210" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="23212" class="Number">1</a>

<a id="M₆"></a><a id="23215" href="/20.07/DeBruijn/#23215" class="Function">M₆</a> <a id="23218" class="Symbol">:</a> <a id="23220" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="23222" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="23224" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23227" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="23229" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23232" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="23234" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="23237" href="/20.07/DeBruijn/#23215" class="Function">M₆</a> <a id="23240" class="Symbol">=</a> <a id="23242" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="23244" class="Number">0</a> <a id="23246" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="23248" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>

<a id="M₇"></a><a id="23255" href="/20.07/DeBruijn/#23255" class="Function">M₇</a> <a id="23258" class="Symbol">:</a> <a id="23260" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="23262" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="23264" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23267" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="23269" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23272" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="23274" class="Symbol">(</a><a id="23275" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="23278" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="23280" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="23282" class="Symbol">)</a> <a id="23284" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="23286" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="23289" href="/20.07/DeBruijn/#23255" class="Function">M₇</a> <a id="23292" class="Symbol">=</a> <a id="23294" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="23296" class="Symbol">(</a><a id="23297" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="23299" class="Number">0</a> <a id="23301" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="23303" class="Symbol">(</a><a id="23304" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="23306" class="Number">1</a> <a id="23308" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="23310" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="23315" class="Symbol">))</a>

<a id="23319" href="/20.07/DeBruijn/#23319" class="Function">_</a> <a id="23321" class="Symbol">:</a> <a id="23323" href="/20.07/DeBruijn/#23158" class="Function">M₅</a> <a id="23326" href="/20.07/DeBruijn/#21867" class="Function Operator">[</a> <a id="23328" href="/20.07/DeBruijn/#23215" class="Function">M₆</a> <a id="23331" href="/20.07/DeBruijn/#21867" class="Function Operator">]</a> <a id="23333" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="23335" href="/20.07/DeBruijn/#23255" class="Function">M₇</a>
<a id="23338" class="Symbol">_</a> <a id="23340" class="Symbol">=</a> <a id="23342" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre><p>The logician Haskell Curry observed that getting the definition of substitution right can be a tricky business. It can be even trickier when using de Bruijn indices, which can often be hard to decipher. Under the current approach, any definition of substitution must, of necessity, preserves types. While this makes the definition more involved, it means that once it is done the hardest work is out of the way. And combining definition with proof makes it harder for errors to sneak in.</p><h2 id="values">Values</h2><p>The definition of value is much as before, save that the added types incorporate the same information found in the Canonical Forms lemma:</p><pre class="Agda"><a id="23998" class="Keyword">data</a> <a id="Value"></a><a id="24003" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="24009" class="Symbol">:</a> <a id="24011" class="Symbol">∀</a> <a id="24013" class="Symbol">{</a><a id="24014" href="/20.07/DeBruijn/#24014" class="Bound">Γ</a> <a id="24016" href="/20.07/DeBruijn/#24016" class="Bound">A</a><a id="24017" class="Symbol">}</a> <a id="24019" class="Symbol">→</a> <a id="24021" href="/20.07/DeBruijn/#24014" class="Bound">Γ</a> <a id="24023" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24025" href="/20.07/DeBruijn/#24016" class="Bound">A</a> <a id="24027" class="Symbol">→</a> <a id="24029" class="PrimitiveType">Set</a> <a id="24033" class="Keyword">where</a>

  <a id="Value.V-ƛ"></a><a id="24042" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="24046" class="Symbol">:</a> <a id="24048" class="Symbol">∀</a> <a id="24050" class="Symbol">{</a><a id="24051" href="/20.07/DeBruijn/#24051" class="Bound">Γ</a> <a id="24053" href="/20.07/DeBruijn/#24053" class="Bound">A</a> <a id="24055" href="/20.07/DeBruijn/#24055" class="Bound">B</a><a id="24056" class="Symbol">}</a> <a id="24058" class="Symbol">{</a><a id="24059" href="/20.07/DeBruijn/#24059" class="Bound">N</a> <a id="24061" class="Symbol">:</a> <a id="24063" href="/20.07/DeBruijn/#24051" class="Bound">Γ</a> <a id="24065" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="24067" href="/20.07/DeBruijn/#24053" class="Bound">A</a> <a id="24069" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24071" href="/20.07/DeBruijn/#24055" class="Bound">B</a><a id="24072" class="Symbol">}</a>
      <a id="24080" class="Comment">---------------------------</a>
    <a id="24112" class="Symbol">→</a> <a id="24114" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="24120" class="Symbol">(</a><a id="24121" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="24123" href="/20.07/DeBruijn/#24059" class="Bound">N</a><a id="24124" class="Symbol">)</a>

  <a id="Value.V-zero"></a><a id="24129" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a> <a id="24136" class="Symbol">:</a> <a id="24138" class="Symbol">∀</a> <a id="24140" class="Symbol">{</a><a id="24141" href="/20.07/DeBruijn/#24141" class="Bound">Γ</a><a id="24142" class="Symbol">}</a>
      <a id="24150" class="Comment">-----------------</a>
    <a id="24172" class="Symbol">→</a> <a id="24174" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="24180" class="Symbol">(</a><a id="24181" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="24187" class="Symbol">{</a><a id="24188" href="/20.07/DeBruijn/#24141" class="Bound">Γ</a><a id="24189" class="Symbol">})</a>

  <a id="Value.V-suc"></a><a id="24195" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="24201" class="Symbol">:</a> <a id="24203" class="Symbol">∀</a> <a id="24205" class="Symbol">{</a><a id="24206" href="/20.07/DeBruijn/#24206" class="Bound">Γ</a><a id="24207" class="Symbol">}</a> <a id="24209" class="Symbol">{</a><a id="24210" href="/20.07/DeBruijn/#24210" class="Bound">V</a> <a id="24212" class="Symbol">:</a> <a id="24214" href="/20.07/DeBruijn/#24206" class="Bound">Γ</a> <a id="24216" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24218" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="24220" class="Symbol">}</a>
    <a id="24226" class="Symbol">→</a> <a id="24228" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="24234" href="/20.07/DeBruijn/#24210" class="Bound">V</a>
      <a id="24242" class="Comment">--------------</a>
    <a id="24261" class="Symbol">→</a> <a id="24263" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="24269" class="Symbol">(</a><a id="24270" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="24275" href="/20.07/DeBruijn/#24210" class="Bound">V</a><a id="24276" class="Symbol">)</a>
</pre><p>Here <code class="language-plaintext highlighter-rouge">zero</code> requires an implicit parameter to aid inference, much in the same way that <code class="language-plaintext highlighter-rouge">[]</code> did in <a href="/20.07/Lists/">Lists</a>.</p><h2 id="reduction">Reduction</h2><p>The reduction rules are the same as those given earlier, save that for each term we must specify its types. As before, we have compatibility rules that reduce a part of a term, labelled with <code class="language-plaintext highlighter-rouge">ξ</code>, and rules that simplify a constructor combined with a destructor, labelled with <code class="language-plaintext highlighter-rouge">β</code>:</p><pre class="Agda"><a id="24721" class="Keyword">infix</a> <a id="24727" class="Number">2</a> <a id="24729" href="/20.07/DeBruijn/#24740" class="Datatype Operator">_—→_</a>

<a id="24735" class="Keyword">data</a> <a id="_—→_"></a><a id="24740" href="/20.07/DeBruijn/#24740" class="Datatype Operator">_—→_</a> <a id="24745" class="Symbol">:</a> <a id="24747" class="Symbol">∀</a> <a id="24749" class="Symbol">{</a><a id="24750" href="/20.07/DeBruijn/#24750" class="Bound">Γ</a> <a id="24752" href="/20.07/DeBruijn/#24752" class="Bound">A</a><a id="24753" class="Symbol">}</a> <a id="24755" class="Symbol">→</a> <a id="24757" class="Symbol">(</a><a id="24758" href="/20.07/DeBruijn/#24750" class="Bound">Γ</a> <a id="24760" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24762" href="/20.07/DeBruijn/#24752" class="Bound">A</a><a id="24763" class="Symbol">)</a> <a id="24765" class="Symbol">→</a> <a id="24767" class="Symbol">(</a><a id="24768" href="/20.07/DeBruijn/#24750" class="Bound">Γ</a> <a id="24770" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24772" href="/20.07/DeBruijn/#24752" class="Bound">A</a><a id="24773" class="Symbol">)</a> <a id="24775" class="Symbol">→</a> <a id="24777" class="PrimitiveType">Set</a> <a id="24781" class="Keyword">where</a>

  <a id="_—→_.ξ-·₁"></a><a id="24790" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="24795" class="Symbol">:</a> <a id="24797" class="Symbol">∀</a> <a id="24799" class="Symbol">{</a><a id="24800" href="/20.07/DeBruijn/#24800" class="Bound">Γ</a> <a id="24802" href="/20.07/DeBruijn/#24802" class="Bound">A</a> <a id="24804" href="/20.07/DeBruijn/#24804" class="Bound">B</a><a id="24805" class="Symbol">}</a> <a id="24807" class="Symbol">{</a><a id="24808" href="/20.07/DeBruijn/#24808" class="Bound">L</a> <a id="24810" href="/20.07/DeBruijn/#24810" class="Bound">L′</a> <a id="24813" class="Symbol">:</a> <a id="24815" href="/20.07/DeBruijn/#24800" class="Bound">Γ</a> <a id="24817" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24819" href="/20.07/DeBruijn/#24802" class="Bound">A</a> <a id="24821" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="24823" href="/20.07/DeBruijn/#24804" class="Bound">B</a><a id="24824" class="Symbol">}</a> <a id="24826" class="Symbol">{</a><a id="24827" href="/20.07/DeBruijn/#24827" class="Bound">M</a> <a id="24829" class="Symbol">:</a> <a id="24831" href="/20.07/DeBruijn/#24800" class="Bound">Γ</a> <a id="24833" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24835" href="/20.07/DeBruijn/#24802" class="Bound">A</a><a id="24836" class="Symbol">}</a>
    <a id="24842" class="Symbol">→</a> <a id="24844" href="/20.07/DeBruijn/#24808" class="Bound">L</a> <a id="24846" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="24849" href="/20.07/DeBruijn/#24810" class="Bound">L′</a>
      <a id="24858" class="Comment">---------------</a>
    <a id="24878" class="Symbol">→</a> <a id="24880" href="/20.07/DeBruijn/#24808" class="Bound">L</a> <a id="24882" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="24884" href="/20.07/DeBruijn/#24827" class="Bound">M</a> <a id="24886" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="24889" href="/20.07/DeBruijn/#24810" class="Bound">L′</a> <a id="24892" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="24894" href="/20.07/DeBruijn/#24827" class="Bound">M</a>

  <a id="_—→_.ξ-·₂"></a><a id="24899" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="24904" class="Symbol">:</a> <a id="24906" class="Symbol">∀</a> <a id="24908" class="Symbol">{</a><a id="24909" href="/20.07/DeBruijn/#24909" class="Bound">Γ</a> <a id="24911" href="/20.07/DeBruijn/#24911" class="Bound">A</a> <a id="24913" href="/20.07/DeBruijn/#24913" class="Bound">B</a><a id="24914" class="Symbol">}</a> <a id="24916" class="Symbol">{</a><a id="24917" href="/20.07/DeBruijn/#24917" class="Bound">V</a> <a id="24919" class="Symbol">:</a> <a id="24921" href="/20.07/DeBruijn/#24909" class="Bound">Γ</a> <a id="24923" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24925" href="/20.07/DeBruijn/#24911" class="Bound">A</a> <a id="24927" href="/20.07/DeBruijn/#8730" class="InductiveConstructor Operator">⇒</a> <a id="24929" href="/20.07/DeBruijn/#24913" class="Bound">B</a><a id="24930" class="Symbol">}</a> <a id="24932" class="Symbol">{</a><a id="24933" href="/20.07/DeBruijn/#24933" class="Bound">M</a> <a id="24935" href="/20.07/DeBruijn/#24935" class="Bound">M′</a> <a id="24938" class="Symbol">:</a> <a id="24940" href="/20.07/DeBruijn/#24909" class="Bound">Γ</a> <a id="24942" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="24944" href="/20.07/DeBruijn/#24911" class="Bound">A</a><a id="24945" class="Symbol">}</a>
    <a id="24951" class="Symbol">→</a> <a id="24953" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="24959" href="/20.07/DeBruijn/#24917" class="Bound">V</a>
    <a id="24965" class="Symbol">→</a> <a id="24967" href="/20.07/DeBruijn/#24933" class="Bound">M</a> <a id="24969" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="24972" href="/20.07/DeBruijn/#24935" class="Bound">M′</a>
      <a id="24981" class="Comment">---------------</a>
    <a id="25001" class="Symbol">→</a> <a id="25003" href="/20.07/DeBruijn/#24917" class="Bound">V</a> <a id="25005" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="25007" href="/20.07/DeBruijn/#24933" class="Bound">M</a> <a id="25009" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25012" href="/20.07/DeBruijn/#24917" class="Bound">V</a> <a id="25014" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="25016" href="/20.07/DeBruijn/#24935" class="Bound">M′</a>

  <a id="_—→_.β-ƛ"></a><a id="25022" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="25026" class="Symbol">:</a> <a id="25028" class="Symbol">∀</a> <a id="25030" class="Symbol">{</a><a id="25031" href="/20.07/DeBruijn/#25031" class="Bound">Γ</a> <a id="25033" href="/20.07/DeBruijn/#25033" class="Bound">A</a> <a id="25035" href="/20.07/DeBruijn/#25035" class="Bound">B</a><a id="25036" class="Symbol">}</a> <a id="25038" class="Symbol">{</a><a id="25039" href="/20.07/DeBruijn/#25039" class="Bound">N</a> <a id="25041" class="Symbol">:</a> <a id="25043" href="/20.07/DeBruijn/#25031" class="Bound">Γ</a> <a id="25045" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="25047" href="/20.07/DeBruijn/#25033" class="Bound">A</a> <a id="25049" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25051" href="/20.07/DeBruijn/#25035" class="Bound">B</a><a id="25052" class="Symbol">}</a> <a id="25054" class="Symbol">{</a><a id="25055" href="/20.07/DeBruijn/#25055" class="Bound">W</a> <a id="25057" class="Symbol">:</a> <a id="25059" href="/20.07/DeBruijn/#25031" class="Bound">Γ</a> <a id="25061" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25063" href="/20.07/DeBruijn/#25033" class="Bound">A</a><a id="25064" class="Symbol">}</a>
    <a id="25070" class="Symbol">→</a> <a id="25072" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="25078" href="/20.07/DeBruijn/#25055" class="Bound">W</a>
      <a id="25086" class="Comment">--------------------</a>
    <a id="25111" class="Symbol">→</a> <a id="25113" class="Symbol">(</a><a id="25114" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="25116" href="/20.07/DeBruijn/#25039" class="Bound">N</a><a id="25117" class="Symbol">)</a> <a id="25119" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="25121" href="/20.07/DeBruijn/#25055" class="Bound">W</a> <a id="25123" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25126" href="/20.07/DeBruijn/#25039" class="Bound">N</a> <a id="25128" href="/20.07/DeBruijn/#21867" class="Function Operator">[</a> <a id="25130" href="/20.07/DeBruijn/#25055" class="Bound">W</a> <a id="25132" href="/20.07/DeBruijn/#21867" class="Function Operator">]</a>

  <a id="_—→_.ξ-suc"></a><a id="25137" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="25143" class="Symbol">:</a> <a id="25145" class="Symbol">∀</a> <a id="25147" class="Symbol">{</a><a id="25148" href="/20.07/DeBruijn/#25148" class="Bound">Γ</a><a id="25149" class="Symbol">}</a> <a id="25151" class="Symbol">{</a><a id="25152" href="/20.07/DeBruijn/#25152" class="Bound">M</a> <a id="25154" href="/20.07/DeBruijn/#25154" class="Bound">M′</a> <a id="25157" class="Symbol">:</a> <a id="25159" href="/20.07/DeBruijn/#25148" class="Bound">Γ</a> <a id="25161" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25163" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="25165" class="Symbol">}</a>
    <a id="25171" class="Symbol">→</a> <a id="25173" href="/20.07/DeBruijn/#25152" class="Bound">M</a> <a id="25175" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25178" href="/20.07/DeBruijn/#25154" class="Bound">M′</a>
      <a id="25187" class="Comment">-----------------</a>
    <a id="25209" class="Symbol">→</a> <a id="25211" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="25216" href="/20.07/DeBruijn/#25152" class="Bound">M</a> <a id="25218" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25221" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="25226" href="/20.07/DeBruijn/#25154" class="Bound">M′</a>

  <a id="_—→_.ξ-case"></a><a id="25232" href="/20.07/DeBruijn/#25232" class="InductiveConstructor">ξ-case</a> <a id="25239" class="Symbol">:</a> <a id="25241" class="Symbol">∀</a> <a id="25243" class="Symbol">{</a><a id="25244" href="/20.07/DeBruijn/#25244" class="Bound">Γ</a> <a id="25246" href="/20.07/DeBruijn/#25246" class="Bound">A</a><a id="25247" class="Symbol">}</a> <a id="25249" class="Symbol">{</a><a id="25250" href="/20.07/DeBruijn/#25250" class="Bound">L</a> <a id="25252" href="/20.07/DeBruijn/#25252" class="Bound">L′</a> <a id="25255" class="Symbol">:</a> <a id="25257" href="/20.07/DeBruijn/#25244" class="Bound">Γ</a> <a id="25259" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25261" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="25263" class="Symbol">}</a> <a id="25265" class="Symbol">{</a><a id="25266" href="/20.07/DeBruijn/#25266" class="Bound">M</a> <a id="25268" class="Symbol">:</a> <a id="25270" href="/20.07/DeBruijn/#25244" class="Bound">Γ</a> <a id="25272" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25274" href="/20.07/DeBruijn/#25246" class="Bound">A</a><a id="25275" class="Symbol">}</a> <a id="25277" class="Symbol">{</a><a id="25278" href="/20.07/DeBruijn/#25278" class="Bound">N</a> <a id="25280" class="Symbol">:</a> <a id="25282" href="/20.07/DeBruijn/#25244" class="Bound">Γ</a> <a id="25284" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="25286" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="25289" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25291" href="/20.07/DeBruijn/#25246" class="Bound">A</a><a id="25292" class="Symbol">}</a>
    <a id="25298" class="Symbol">→</a> <a id="25300" href="/20.07/DeBruijn/#25250" class="Bound">L</a> <a id="25302" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25305" href="/20.07/DeBruijn/#25252" class="Bound">L′</a>
      <a id="25314" class="Comment">-------------------------</a>
    <a id="25344" class="Symbol">→</a> <a id="25346" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="25351" href="/20.07/DeBruijn/#25250" class="Bound">L</a> <a id="25353" href="/20.07/DeBruijn/#25266" class="Bound">M</a> <a id="25355" href="/20.07/DeBruijn/#25278" class="Bound">N</a> <a id="25357" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25360" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="25365" href="/20.07/DeBruijn/#25252" class="Bound">L′</a> <a id="25368" href="/20.07/DeBruijn/#25266" class="Bound">M</a> <a id="25370" href="/20.07/DeBruijn/#25278" class="Bound">N</a>

  <a id="_—→_.β-zero"></a><a id="25375" href="/20.07/DeBruijn/#25375" class="InductiveConstructor">β-zero</a> <a id="25382" class="Symbol">:</a>  <a id="25385" class="Symbol">∀</a> <a id="25387" class="Symbol">{</a><a id="25388" href="/20.07/DeBruijn/#25388" class="Bound">Γ</a> <a id="25390" href="/20.07/DeBruijn/#25390" class="Bound">A</a><a id="25391" class="Symbol">}</a> <a id="25393" class="Symbol">{</a><a id="25394" href="/20.07/DeBruijn/#25394" class="Bound">M</a> <a id="25396" class="Symbol">:</a> <a id="25398" href="/20.07/DeBruijn/#25388" class="Bound">Γ</a> <a id="25400" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25402" href="/20.07/DeBruijn/#25390" class="Bound">A</a><a id="25403" class="Symbol">}</a> <a id="25405" class="Symbol">{</a><a id="25406" href="/20.07/DeBruijn/#25406" class="Bound">N</a> <a id="25408" class="Symbol">:</a> <a id="25410" href="/20.07/DeBruijn/#25388" class="Bound">Γ</a> <a id="25412" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="25414" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="25417" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25419" href="/20.07/DeBruijn/#25390" class="Bound">A</a><a id="25420" class="Symbol">}</a>
      <a id="25428" class="Comment">-------------------</a>
    <a id="25452" class="Symbol">→</a> <a id="25454" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="25459" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="25465" href="/20.07/DeBruijn/#25394" class="Bound">M</a> <a id="25467" href="/20.07/DeBruijn/#25406" class="Bound">N</a> <a id="25469" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25472" href="/20.07/DeBruijn/#25394" class="Bound">M</a>

  <a id="_—→_.β-suc"></a><a id="25477" href="/20.07/DeBruijn/#25477" class="InductiveConstructor">β-suc</a> <a id="25483" class="Symbol">:</a> <a id="25485" class="Symbol">∀</a> <a id="25487" class="Symbol">{</a><a id="25488" href="/20.07/DeBruijn/#25488" class="Bound">Γ</a> <a id="25490" href="/20.07/DeBruijn/#25490" class="Bound">A</a><a id="25491" class="Symbol">}</a> <a id="25493" class="Symbol">{</a><a id="25494" href="/20.07/DeBruijn/#25494" class="Bound">V</a> <a id="25496" class="Symbol">:</a> <a id="25498" href="/20.07/DeBruijn/#25488" class="Bound">Γ</a> <a id="25500" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25502" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a><a id="25504" class="Symbol">}</a> <a id="25506" class="Symbol">{</a><a id="25507" href="/20.07/DeBruijn/#25507" class="Bound">M</a> <a id="25509" class="Symbol">:</a> <a id="25511" href="/20.07/DeBruijn/#25488" class="Bound">Γ</a> <a id="25513" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25515" href="/20.07/DeBruijn/#25490" class="Bound">A</a><a id="25516" class="Symbol">}</a> <a id="25518" class="Symbol">{</a><a id="25519" href="/20.07/DeBruijn/#25519" class="Bound">N</a> <a id="25521" class="Symbol">:</a> <a id="25523" href="/20.07/DeBruijn/#25488" class="Bound">Γ</a> <a id="25525" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="25527" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a> <a id="25530" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25532" href="/20.07/DeBruijn/#25490" class="Bound">A</a><a id="25533" class="Symbol">}</a>
    <a id="25539" class="Symbol">→</a> <a id="25541" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="25547" href="/20.07/DeBruijn/#25494" class="Bound">V</a>
      <a id="25555" class="Comment">----------------------------</a>
    <a id="25588" class="Symbol">→</a> <a id="25590" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="25595" class="Symbol">(</a><a id="25596" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="25601" href="/20.07/DeBruijn/#25494" class="Bound">V</a><a id="25602" class="Symbol">)</a> <a id="25604" href="/20.07/DeBruijn/#25507" class="Bound">M</a> <a id="25606" href="/20.07/DeBruijn/#25519" class="Bound">N</a> <a id="25608" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25611" href="/20.07/DeBruijn/#25519" class="Bound">N</a> <a id="25613" href="/20.07/DeBruijn/#21867" class="Function Operator">[</a> <a id="25615" href="/20.07/DeBruijn/#25494" class="Bound">V</a> <a id="25617" href="/20.07/DeBruijn/#21867" class="Function Operator">]</a>

  <a id="_—→_.β-μ"></a><a id="25622" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a> <a id="25626" class="Symbol">:</a> <a id="25628" class="Symbol">∀</a> <a id="25630" class="Symbol">{</a><a id="25631" href="/20.07/DeBruijn/#25631" class="Bound">Γ</a> <a id="25633" href="/20.07/DeBruijn/#25633" class="Bound">A</a><a id="25634" class="Symbol">}</a> <a id="25636" class="Symbol">{</a><a id="25637" href="/20.07/DeBruijn/#25637" class="Bound">N</a> <a id="25639" class="Symbol">:</a> <a id="25641" href="/20.07/DeBruijn/#25631" class="Bound">Γ</a> <a id="25643" href="/20.07/DeBruijn/#8917" class="InductiveConstructor Operator">,</a> <a id="25645" href="/20.07/DeBruijn/#25633" class="Bound">A</a> <a id="25647" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="25649" href="/20.07/DeBruijn/#25633" class="Bound">A</a><a id="25650" class="Symbol">}</a>
      <a id="25658" class="Comment">----------------</a>
    <a id="25679" class="Symbol">→</a> <a id="25681" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="25683" href="/20.07/DeBruijn/#25637" class="Bound">N</a> <a id="25685" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="25688" href="/20.07/DeBruijn/#25637" class="Bound">N</a> <a id="25690" href="/20.07/DeBruijn/#21867" class="Function Operator">[</a> <a id="25692" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="25694" href="/20.07/DeBruijn/#25637" class="Bound">N</a> <a id="25696" href="/20.07/DeBruijn/#21867" class="Function Operator">]</a>
</pre><p>The definition states that <code class="language-plaintext highlighter-rouge">M —→ N</code> can only hold of terms <code class="language-plaintext highlighter-rouge">M</code> and <code class="language-plaintext highlighter-rouge">N</code> which <em>both</em> have type <code class="language-plaintext highlighter-rouge">Γ ⊢ A</code> for some context <code class="language-plaintext highlighter-rouge">Γ</code> and type <code class="language-plaintext highlighter-rouge">A</code>. In other words, it is <em>built-in</em> to our definition that reduction preserves types. There is no separate Preservation theorem to prove. The Agda type-checker validates that each term preserves types. In the case of <code class="language-plaintext highlighter-rouge">β</code> rules, preservation depends on the fact that substitution preserves types, which is built-in to our definition of substitution.</p><h2 id="reflexive-and-transitive-closure">Reflexive and transitive closure</h2><p>The reflexive and transitive closure is exactly as before. We simply cut-and-paste the previous definition:</p><pre class="Agda"><a id="26340" class="Keyword">infix</a>  <a id="26347" class="Number">2</a> <a id="26349" href="/20.07/DeBruijn/#26405" class="Datatype Operator">_—↠_</a>
<a id="26354" class="Keyword">infix</a>  <a id="26361" class="Number">1</a> <a id="26363" href="/20.07/DeBruijn/#26606" class="Function Operator">begin_</a>
<a id="26370" class="Keyword">infixr</a> <a id="26377" class="Number">2</a> <a id="26379" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="26387" class="Keyword">infix</a>  <a id="26394" class="Number">3</a> <a id="26396" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">_∎</a>

<a id="26400" class="Keyword">data</a> <a id="_—↠_"></a><a id="26405" href="/20.07/DeBruijn/#26405" class="Datatype Operator">_—↠_</a> <a id="26410" class="Symbol">:</a> <a id="26412" class="Symbol">∀</a> <a id="26414" class="Symbol">{</a><a id="26415" href="/20.07/DeBruijn/#26415" class="Bound">Γ</a> <a id="26417" href="/20.07/DeBruijn/#26417" class="Bound">A</a><a id="26418" class="Symbol">}</a> <a id="26420" class="Symbol">→</a> <a id="26422" class="Symbol">(</a><a id="26423" href="/20.07/DeBruijn/#26415" class="Bound">Γ</a> <a id="26425" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="26427" href="/20.07/DeBruijn/#26417" class="Bound">A</a><a id="26428" class="Symbol">)</a> <a id="26430" class="Symbol">→</a> <a id="26432" class="Symbol">(</a><a id="26433" href="/20.07/DeBruijn/#26415" class="Bound">Γ</a> <a id="26435" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="26437" href="/20.07/DeBruijn/#26417" class="Bound">A</a><a id="26438" class="Symbol">)</a> <a id="26440" class="Symbol">→</a> <a id="26442" class="PrimitiveType">Set</a> <a id="26446" class="Keyword">where</a>

  <a id="_—↠_._∎"></a><a id="26455" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">_∎</a> <a id="26458" class="Symbol">:</a> <a id="26460" class="Symbol">∀</a> <a id="26462" class="Symbol">{</a><a id="26463" href="/20.07/DeBruijn/#26463" class="Bound">Γ</a> <a id="26465" href="/20.07/DeBruijn/#26465" class="Bound">A</a><a id="26466" class="Symbol">}</a> <a id="26468" class="Symbol">(</a><a id="26469" href="/20.07/DeBruijn/#26469" class="Bound">M</a> <a id="26471" class="Symbol">:</a> <a id="26473" href="/20.07/DeBruijn/#26463" class="Bound">Γ</a> <a id="26475" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="26477" href="/20.07/DeBruijn/#26465" class="Bound">A</a><a id="26478" class="Symbol">)</a>
      <a id="26486" class="Comment">------</a>
    <a id="26497" class="Symbol">→</a> <a id="26499" href="/20.07/DeBruijn/#26469" class="Bound">M</a> <a id="26501" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="26504" href="/20.07/DeBruijn/#26469" class="Bound">M</a>

  <a id="_—↠_._—→⟨_⟩_"></a><a id="26509" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="26517" class="Symbol">:</a> <a id="26519" class="Symbol">∀</a> <a id="26521" class="Symbol">{</a><a id="26522" href="/20.07/DeBruijn/#26522" class="Bound">Γ</a> <a id="26524" href="/20.07/DeBruijn/#26524" class="Bound">A</a><a id="26525" class="Symbol">}</a> <a id="26527" class="Symbol">(</a><a id="26528" href="/20.07/DeBruijn/#26528" class="Bound">L</a> <a id="26530" class="Symbol">:</a> <a id="26532" href="/20.07/DeBruijn/#26522" class="Bound">Γ</a> <a id="26534" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="26536" href="/20.07/DeBruijn/#26524" class="Bound">A</a><a id="26537" class="Symbol">)</a> <a id="26539" class="Symbol">{</a><a id="26540" href="/20.07/DeBruijn/#26540" class="Bound">M</a> <a id="26542" href="/20.07/DeBruijn/#26542" class="Bound">N</a> <a id="26544" class="Symbol">:</a> <a id="26546" href="/20.07/DeBruijn/#26522" class="Bound">Γ</a> <a id="26548" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="26550" href="/20.07/DeBruijn/#26524" class="Bound">A</a><a id="26551" class="Symbol">}</a>
    <a id="26557" class="Symbol">→</a> <a id="26559" href="/20.07/DeBruijn/#26528" class="Bound">L</a> <a id="26561" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="26564" href="/20.07/DeBruijn/#26540" class="Bound">M</a>
    <a id="26570" class="Symbol">→</a> <a id="26572" href="/20.07/DeBruijn/#26540" class="Bound">M</a> <a id="26574" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="26577" href="/20.07/DeBruijn/#26542" class="Bound">N</a>
      <a id="26585" class="Comment">------</a>
    <a id="26596" class="Symbol">→</a> <a id="26598" href="/20.07/DeBruijn/#26528" class="Bound">L</a> <a id="26600" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="26603" href="/20.07/DeBruijn/#26542" class="Bound">N</a>

<a id="begin_"></a><a id="26606" href="/20.07/DeBruijn/#26606" class="Function Operator">begin_</a> <a id="26613" class="Symbol">:</a> <a id="26615" class="Symbol">∀</a> <a id="26617" class="Symbol">{</a><a id="26618" href="/20.07/DeBruijn/#26618" class="Bound">Γ</a> <a id="26620" href="/20.07/DeBruijn/#26620" class="Bound">A</a><a id="26621" class="Symbol">}</a> <a id="26623" class="Symbol">{</a><a id="26624" href="/20.07/DeBruijn/#26624" class="Bound">M</a> <a id="26626" href="/20.07/DeBruijn/#26626" class="Bound">N</a> <a id="26628" class="Symbol">:</a> <a id="26630" href="/20.07/DeBruijn/#26618" class="Bound">Γ</a> <a id="26632" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="26634" href="/20.07/DeBruijn/#26620" class="Bound">A</a><a id="26635" class="Symbol">}</a>
  <a id="26639" class="Symbol">→</a> <a id="26641" href="/20.07/DeBruijn/#26624" class="Bound">M</a> <a id="26643" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="26646" href="/20.07/DeBruijn/#26626" class="Bound">N</a>
    <a id="26652" class="Comment">------</a>
  <a id="26661" class="Symbol">→</a> <a id="26663" href="/20.07/DeBruijn/#26624" class="Bound">M</a> <a id="26665" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="26668" href="/20.07/DeBruijn/#26626" class="Bound">N</a>
<a id="26670" href="/20.07/DeBruijn/#26606" class="Function Operator">begin</a> <a id="26676" href="/20.07/DeBruijn/#26676" class="Bound">M—↠N</a> <a id="26681" class="Symbol">=</a> <a id="26683" href="/20.07/DeBruijn/#26676" class="Bound">M—↠N</a>
</pre><h2 id="examples">Examples</h2><p>We reiterate each of our previous examples. First, the Church numeral two applied to the successor function and zero yields the natural number two:</p><pre class="Agda"><a id="26860" href="/20.07/DeBruijn/#26860" class="Function">_</a> <a id="26862" class="Symbol">:</a> <a id="26864" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="26869" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="26871" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="26876" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="26878" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="26884" class="Symbol">{</a><a id="26885" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a><a id="26886" class="Symbol">}</a> <a id="26888" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="26891" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="26896" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="26901" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
<a id="26907" class="Symbol">_</a> <a id="26909" class="Symbol">=</a>
  <a id="26913" href="/20.07/DeBruijn/#26606" class="Function Operator">begin</a>
    <a id="26923" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="26928" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="26930" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="26935" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="26937" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
  <a id="26945" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="26949" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="26954" class="Symbol">(</a><a id="26955" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="26959" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="26962" class="Symbol">)</a> <a id="26964" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="26970" class="Symbol">(</a><a id="26971" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="26973" class="Symbol">(</a><a id="26974" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="26979" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="26981" class="Symbol">(</a><a id="26982" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="26987" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="26989" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="26991" class="Number">0</a><a id="26992" class="Symbol">)))</a> <a id="26996" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="26998" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
  <a id="27006" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27010" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="27014" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a> <a id="27021" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27027" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="27032" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27034" class="Symbol">(</a><a id="27035" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="27040" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27042" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="27047" class="Symbol">)</a>
  <a id="27051" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27055" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="27060" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="27064" class="Symbol">(</a><a id="27065" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="27069" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="27075" class="Symbol">)</a> <a id="27077" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27083" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="27088" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27090" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27095" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
  <a id="27103" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27107" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="27111" class="Symbol">(</a><a id="27112" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27118" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="27124" class="Symbol">)</a> <a id="27126" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
   <a id="27131" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27136" class="Symbol">(</a><a id="27137" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27142" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="27147" class="Symbol">)</a>
  <a id="27151" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a>
</pre><p>As before, we need to supply an explicit context to <code class="language-plaintext highlighter-rouge">`zero</code>.</p><p>Next, a sample reduction demonstrating that two plus two is four:</p><pre class="Agda"><a id="27293" href="/20.07/DeBruijn/#27293" class="Function">_</a> <a id="27295" class="Symbol">:</a> <a id="27297" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27302" class="Symbol">{</a><a id="27303" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a><a id="27304" class="Symbol">}</a> <a id="27306" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27308" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="27312" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27314" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="27318" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="27321" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27326" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27331" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27336" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27341" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
<a id="27347" class="Symbol">_</a> <a id="27349" class="Symbol">=</a>
    <a id="27355" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27360" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27362" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="27366" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27368" href="/20.07/DeBruijn/#13966" class="Function">two</a>
  <a id="27374" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27378" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="27383" class="Symbol">(</a><a id="27384" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="27389" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="27392" class="Symbol">)</a> <a id="27394" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27400" class="Symbol">(</a><a id="27401" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="27403" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="27405" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="27410" class="Symbol">(</a><a id="27411" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27413" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="27415" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27416" class="Symbol">)</a> <a id="27418" class="Symbol">(</a><a id="27419" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27421" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27422" class="Symbol">)</a> <a id="27424" class="Symbol">(</a><a id="27425" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27430" class="Symbol">(</a><a id="27431" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27436" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27438" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27440" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="27442" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27444" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27446" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="27448" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27449" class="Symbol">)))</a> <a id="27453" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27455" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="27459" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27461" href="/20.07/DeBruijn/#13966" class="Function">two</a>
  <a id="27467" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27471" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="27476" class="Symbol">(</a><a id="27477" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="27481" class="Symbol">(</a><a id="27482" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27488" class="Symbol">(</a><a id="27489" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27495" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="27501" class="Symbol">)))</a> <a id="27505" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27511" class="Symbol">(</a><a id="27512" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="27514" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="27519" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="27523" class="Symbol">(</a><a id="27524" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27526" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27527" class="Symbol">)</a> <a id="27529" class="Symbol">(</a><a id="27530" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27535" class="Symbol">(</a><a id="27536" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27541" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27543" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27545" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="27547" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27549" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27551" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="27553" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27554" class="Symbol">)))</a> <a id="27558" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27560" href="/20.07/DeBruijn/#13966" class="Function">two</a>
  <a id="27566" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27570" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="27574" class="Symbol">(</a><a id="27575" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27581" class="Symbol">(</a><a id="27582" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27588" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="27594" class="Symbol">))</a> <a id="27597" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27603" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="27608" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="27612" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="27616" class="Symbol">(</a><a id="27617" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27622" class="Symbol">(</a><a id="27623" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27628" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27630" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27632" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="27634" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27636" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="27639" class="Symbol">))</a>
  <a id="27644" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27648" href="/20.07/DeBruijn/#25477" class="InductiveConstructor">β-suc</a> <a id="27654" class="Symbol">(</a><a id="27655" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27661" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="27667" class="Symbol">)</a> <a id="27669" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27675" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27680" class="Symbol">(</a><a id="27681" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27686" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27688" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27693" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="27699" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27701" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="27704" class="Symbol">)</a>
  <a id="27708" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27712" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="27718" class="Symbol">(</a><a id="27719" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="27724" class="Symbol">(</a><a id="27725" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="27730" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="27733" class="Symbol">))</a> <a id="27736" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27742" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27747" class="Symbol">((</a><a id="27749" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="27751" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="27753" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="27758" class="Symbol">(</a><a id="27759" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27761" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="27763" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27764" class="Symbol">)</a> <a id="27766" class="Symbol">(</a><a id="27767" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27769" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27770" class="Symbol">)</a> <a id="27772" class="Symbol">(</a><a id="27773" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27778" class="Symbol">(</a><a id="27779" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27784" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27786" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27788" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="27790" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27792" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27794" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="27796" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27797" class="Symbol">)))</a>
      <a id="27807" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27809" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27814" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="27820" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27822" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="27825" class="Symbol">)</a>
  <a id="27829" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27833" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="27839" class="Symbol">(</a><a id="27840" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="27845" class="Symbol">(</a><a id="27846" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="27850" class="Symbol">(</a><a id="27851" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27857" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="27863" class="Symbol">)))</a> <a id="27867" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27873" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27878" class="Symbol">((</a><a id="27880" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="27882" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="27887" class="Symbol">(</a><a id="27888" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27893" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="27898" class="Symbol">)</a> <a id="27900" class="Symbol">(</a><a id="27901" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27903" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27904" class="Symbol">)</a> <a id="27906" class="Symbol">(</a><a id="27907" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27912" class="Symbol">(</a><a id="27913" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="27918" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27920" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27922" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="27924" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27926" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="27928" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="27930" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="27931" class="Symbol">)))</a> <a id="27935" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="27937" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="27940" class="Symbol">)</a>
  <a id="27944" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="27948" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="27954" class="Symbol">(</a><a id="27955" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="27959" class="Symbol">(</a><a id="27960" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27966" class="Symbol">(</a><a id="27967" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="27973" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="27979" class="Symbol">)))</a> <a id="27983" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="27989" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="27994" class="Symbol">(</a><a id="27995" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="28000" class="Symbol">(</a><a id="28001" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28006" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="28011" class="Symbol">)</a> <a id="28013" class="Symbol">(</a><a id="28014" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="28017" class="Symbol">)</a> <a id="28019" class="Symbol">(</a><a id="28020" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28025" class="Symbol">(</a><a id="28026" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="28031" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28033" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28035" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28037" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28039" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="28042" class="Symbol">)))</a>
  <a id="28048" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28052" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28058" class="Symbol">(</a><a id="28059" href="/20.07/DeBruijn/#25477" class="InductiveConstructor">β-suc</a> <a id="28065" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="28071" class="Symbol">)</a> <a id="28073" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="28079" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28084" class="Symbol">(</a><a id="28085" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28090" class="Symbol">(</a><a id="28091" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="28096" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28098" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="28104" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28106" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="28109" class="Symbol">))</a>
  <a id="28114" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28118" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28124" class="Symbol">(</a><a id="28125" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28131" class="Symbol">(</a><a id="28132" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28137" class="Symbol">(</a><a id="28138" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28143" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="28146" class="Symbol">)))</a> <a id="28150" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="28156" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28161" class="Symbol">(</a><a id="28162" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28167" class="Symbol">((</a><a id="28169" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28171" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28173" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="28178" class="Symbol">(</a><a id="28179" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28181" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28183" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28184" class="Symbol">)</a> <a id="28186" class="Symbol">(</a><a id="28187" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28189" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28190" class="Symbol">)</a> <a id="28192" class="Symbol">(</a><a id="28193" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28198" class="Symbol">(</a><a id="28199" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="28204" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28206" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28208" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28210" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28212" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28214" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28216" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28217" class="Symbol">)))</a>
      <a id="28227" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28229" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="28235" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28237" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="28240" class="Symbol">))</a>
  <a id="28245" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28249" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28255" class="Symbol">(</a><a id="28256" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28262" class="Symbol">(</a><a id="28263" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28268" class="Symbol">(</a><a id="28269" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="28273" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="28279" class="Symbol">)))</a> <a id="28283" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="28289" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28294" class="Symbol">(</a><a id="28295" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28300" class="Symbol">((</a><a id="28302" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28304" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="28309" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="28315" class="Symbol">(</a><a id="28316" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28318" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28319" class="Symbol">)</a> <a id="28321" class="Symbol">(</a><a id="28322" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28327" class="Symbol">(</a><a id="28328" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="28333" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28335" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28337" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28339" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28341" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28343" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28345" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28346" class="Symbol">)))</a> <a id="28350" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28352" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="28355" class="Symbol">))</a>
  <a id="28360" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28364" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28370" class="Symbol">(</a><a id="28371" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28377" class="Symbol">(</a><a id="28378" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="28382" class="Symbol">(</a><a id="28383" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="28389" class="Symbol">(</a><a id="28390" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="28396" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="28402" class="Symbol">))))</a> <a id="28407" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="28413" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28418" class="Symbol">(</a><a id="28419" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28424" class="Symbol">(</a><a id="28425" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="28430" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="28436" class="Symbol">(</a><a id="28437" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="28440" class="Symbol">)</a> <a id="28442" class="Symbol">(</a><a id="28443" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28448" class="Symbol">(</a><a id="28449" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="28454" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28456" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28458" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28460" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28462" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="28465" class="Symbol">))))</a>
  <a id="28472" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28476" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28482" class="Symbol">(</a><a id="28483" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="28489" href="/20.07/DeBruijn/#25375" class="InductiveConstructor">β-zero</a><a id="28495" class="Symbol">)</a> <a id="28497" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
   <a id="28502" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28507" class="Symbol">(</a><a id="28508" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28513" class="Symbol">(</a><a id="28514" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28519" class="Symbol">(</a><a id="28520" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28525" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="28530" class="Symbol">)))</a>
  <a id="28536" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a>
</pre><p>And finally, a similar sample reduction for Church numerals:</p><pre class="Agda"><a id="28608" href="/20.07/DeBruijn/#28608" class="Function">_</a> <a id="28610" class="Symbol">:</a> <a id="28612" href="/20.07/DeBruijn/#14418" class="Function">plusᶜ</a> <a id="28618" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28620" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28625" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28627" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28632" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28634" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="28639" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28641" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="28647" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="28650" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28655" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28660" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28665" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="28670" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="28676" class="Symbol">{</a><a id="28677" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a><a id="28678" class="Symbol">}</a>
<a id="28680" class="Symbol">_</a> <a id="28682" class="Symbol">=</a>
  <a id="28686" href="/20.07/DeBruijn/#26606" class="Function Operator">begin</a>
    <a id="28696" href="/20.07/DeBruijn/#14418" class="Function">plusᶜ</a> <a id="28702" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28704" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28709" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28711" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28716" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28718" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="28723" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28725" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
  <a id="28733" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28737" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28742" class="Symbol">(</a><a id="28743" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28748" class="Symbol">(</a><a id="28749" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28754" class="Symbol">(</a><a id="28755" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="28759" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="28762" class="Symbol">)))</a> <a id="28766" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="28772" class="Symbol">(</a><a id="28773" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28775" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28777" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28779" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28784" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28786" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28788" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28790" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28792" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28794" class="Symbol">(</a><a id="28795" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28797" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28799" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28801" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28803" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28805" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28807" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28809" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28811" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28813" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28815" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28816" class="Symbol">))</a> <a id="28819" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28821" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28826" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28828" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="28833" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28835" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
  <a id="28843" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28847" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28852" class="Symbol">(</a><a id="28853" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28858" class="Symbol">(</a><a id="28859" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="28863" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="28866" class="Symbol">))</a> <a id="28869" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="28875" class="Symbol">(</a><a id="28876" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28878" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28880" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28885" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28887" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28889" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28891" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28893" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28895" class="Symbol">(</a><a id="28896" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28901" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28903" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28905" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="28907" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="28909" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28911" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28913" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28914" class="Symbol">))</a> <a id="28917" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28919" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="28924" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28926" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
  <a id="28934" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="28938" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="28943" class="Symbol">(</a><a id="28944" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="28948" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="28951" class="Symbol">)</a> <a id="28953" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="28959" class="Symbol">(</a><a id="28960" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="28962" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28967" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28969" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="28974" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28976" class="Symbol">(</a><a id="28977" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="28982" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28984" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="28989" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28991" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="28993" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="28994" class="Symbol">))</a> <a id="28997" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="28999" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
  <a id="29007" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29011" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29015" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a> <a id="29022" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29028" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="29033" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29035" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29040" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29042" class="Symbol">(</a><a id="29043" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="29048" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29050" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29055" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29057" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29062" class="Symbol">)</a>
  <a id="29066" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29070" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="29075" class="Symbol">(</a><a id="29076" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29080" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="29083" class="Symbol">)</a> <a id="29085" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29091" class="Symbol">(</a><a id="29092" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="29094" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29099" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29101" class="Symbol">(</a><a id="29102" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29107" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29109" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="29111" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="29112" class="Symbol">))</a> <a id="29115" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29117" class="Symbol">(</a><a id="29118" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="29123" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29125" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29130" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29132" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29137" class="Symbol">)</a>
  <a id="29141" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29145" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="29150" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="29154" class="Symbol">(</a><a id="29155" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="29160" class="Symbol">(</a><a id="29161" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29165" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="29168" class="Symbol">))</a> <a id="29171" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29177" class="Symbol">(</a><a id="29178" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="29180" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29185" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29187" class="Symbol">(</a><a id="29188" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29193" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29195" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="29197" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="29198" class="Symbol">))</a> <a id="29201" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29203" class="Symbol">((</a><a id="29205" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="29207" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29212" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29214" class="Symbol">(</a><a id="29215" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29220" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29222" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="29224" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="29225" class="Symbol">))</a> <a id="29228" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29230" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29235" class="Symbol">)</a>
  <a id="29239" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29243" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="29248" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="29252" class="Symbol">(</a><a id="29253" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29257" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="29263" class="Symbol">)</a> <a id="29265" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29271" class="Symbol">(</a><a id="29272" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="29274" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29279" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29281" class="Symbol">(</a><a id="29282" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29287" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29289" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="29291" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="29292" class="Symbol">))</a> <a id="29295" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29297" class="Symbol">(</a><a id="29298" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29303" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29305" class="Symbol">(</a><a id="29306" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29311" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29313" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29318" class="Symbol">))</a>
  <a id="29323" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29327" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="29332" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="29336" class="Symbol">(</a><a id="29337" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="29342" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="29346" class="Symbol">(</a><a id="29347" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29351" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="29357" class="Symbol">))</a> <a id="29360" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29366" class="Symbol">(</a><a id="29367" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="29369" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29374" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29376" class="Symbol">(</a><a id="29377" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29382" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29384" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="29386" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="29387" class="Symbol">))</a> <a id="29390" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29392" class="Symbol">(</a><a id="29393" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29398" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29400" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29405" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29410" class="Symbol">)</a>
  <a id="29414" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29418" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="29423" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="29427" class="Symbol">(</a><a id="29428" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29432" class="Symbol">(</a><a id="29433" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29439" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="29445" class="Symbol">))</a> <a id="29448" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29454" class="Symbol">(</a><a id="29455" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="29457" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29462" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29464" class="Symbol">(</a><a id="29465" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29470" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29472" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="29474" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="29475" class="Symbol">))</a> <a id="29478" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29480" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29485" class="Symbol">(</a><a id="29486" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29491" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29496" class="Symbol">)</a>
  <a id="29500" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29504" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29508" class="Symbol">(</a><a id="29509" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29515" class="Symbol">(</a><a id="29516" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29522" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="29528" class="Symbol">))</a> <a id="29531" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29537" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29542" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29544" class="Symbol">(</a><a id="29545" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29550" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29552" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29557" class="Symbol">(</a><a id="29558" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29563" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29568" class="Symbol">))</a>
  <a id="29573" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29577" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="29582" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="29586" class="Symbol">(</a><a id="29587" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29591" class="Symbol">(</a><a id="29592" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29598" class="Symbol">(</a><a id="29599" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29605" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="29611" class="Symbol">)))</a> <a id="29615" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29621" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="29626" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="29628" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29633" class="Symbol">(</a><a id="29634" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29639" class="Symbol">(</a><a id="29640" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29645" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29650" class="Symbol">))</a>
  <a id="29655" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="29659" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="29663" class="Symbol">(</a><a id="29664" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29670" class="Symbol">(</a><a id="29671" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29677" class="Symbol">(</a><a id="29678" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="29684" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="29690" class="Symbol">)))</a> <a id="29694" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="29700" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29705" class="Symbol">(</a><a id="29706" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29711" class="Symbol">(</a><a id="29712" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29717" class="Symbol">(</a><a id="29718" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="29723" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="29728" class="Symbol">)))</a>
  <a id="29734" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a>
</pre><h2 id="values-do-not-reduce">Values do not reduce</h2><p>We have now completed all the definitions, which of necessity subsumed some of the propositions from the earlier development: Canonical Forms, Substitution preserves types, and Preservation. We now turn to proving the remaining results from the previous development.</p><h4 id="exercise-v-practice">Exercise <code class="language-plaintext highlighter-rouge">V¬—→</code> (practice)</h4><p>Following the previous development, show values do not reduce, and its corollary, terms that reduce are not values.</p><pre class="Agda"><a id="30188" class="Comment">-- Your code goes here</a>
</pre><h2 id="progress">Progress</h2><p>As before, every term that is well typed and closed is either a value or takes a reduction step. The formulation of progress is just as before, but annotated with types:</p><pre class="Agda"><a id="30404" class="Keyword">data</a> <a id="Progress"></a><a id="30409" href="/20.07/DeBruijn/#30409" class="Datatype">Progress</a> <a id="30418" class="Symbol">{</a><a id="30419" href="/20.07/DeBruijn/#30419" class="Bound">A</a><a id="30420" class="Symbol">}</a> <a id="30422" class="Symbol">(</a><a id="30423" href="/20.07/DeBruijn/#30423" class="Bound">M</a> <a id="30425" class="Symbol">:</a> <a id="30427" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="30429" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="30431" href="/20.07/DeBruijn/#30419" class="Bound">A</a><a id="30432" class="Symbol">)</a> <a id="30434" class="Symbol">:</a> <a id="30436" class="PrimitiveType">Set</a> <a id="30440" class="Keyword">where</a>

  <a id="Progress.step"></a><a id="30449" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="30454" class="Symbol">:</a> <a id="30456" class="Symbol">∀</a> <a id="30458" class="Symbol">{</a><a id="30459" href="/20.07/DeBruijn/#30459" class="Bound">N</a> <a id="30461" class="Symbol">:</a> <a id="30463" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="30465" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="30467" href="/20.07/DeBruijn/#30419" class="Bound">A</a><a id="30468" class="Symbol">}</a>
    <a id="30474" class="Symbol">→</a> <a id="30476" href="/20.07/DeBruijn/#30423" class="Bound">M</a> <a id="30478" href="/20.07/DeBruijn/#24740" class="Datatype Operator">—→</a> <a id="30481" href="/20.07/DeBruijn/#30459" class="Bound">N</a>
      <a id="30489" class="Comment">----------</a>
    <a id="30504" class="Symbol">→</a> <a id="30506" href="/20.07/DeBruijn/#30409" class="Datatype">Progress</a> <a id="30515" href="/20.07/DeBruijn/#30423" class="Bound">M</a>

  <a id="Progress.done"></a><a id="30520" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="30525" class="Symbol">:</a>
      <a id="30533" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="30539" href="/20.07/DeBruijn/#30423" class="Bound">M</a>
      <a id="30547" class="Comment">----------</a>
    <a id="30562" class="Symbol">→</a> <a id="30564" href="/20.07/DeBruijn/#30409" class="Datatype">Progress</a> <a id="30573" href="/20.07/DeBruijn/#30423" class="Bound">M</a>
</pre><p>The statement and proof of progress is much as before, appropriately annotated. We no longer need to explicitly refer to the Canonical Forms lemma, since it is built-in to the definition of value:</p><pre class="Agda"><a id="progress"></a><a id="30782" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="30791" class="Symbol">:</a> <a id="30793" class="Symbol">∀</a> <a id="30795" class="Symbol">{</a><a id="30796" href="/20.07/DeBruijn/#30796" class="Bound">A</a><a id="30797" class="Symbol">}</a> <a id="30799" class="Symbol">→</a> <a id="30801" class="Symbol">(</a><a id="30802" href="/20.07/DeBruijn/#30802" class="Bound">M</a> <a id="30804" class="Symbol">:</a> <a id="30806" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="30808" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="30810" href="/20.07/DeBruijn/#30796" class="Bound">A</a><a id="30811" class="Symbol">)</a> <a id="30813" class="Symbol">→</a> <a id="30815" href="/20.07/DeBruijn/#30409" class="Datatype">Progress</a> <a id="30824" href="/20.07/DeBruijn/#30802" class="Bound">M</a>
<a id="30826" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="30835" class="Symbol">(</a><a id="30836" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="30838" class="Symbol">())</a>
<a id="30842" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="30851" class="Symbol">(</a><a id="30852" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="30854" href="/20.07/DeBruijn/#30854" class="Bound">N</a><a id="30855" class="Symbol">)</a>                          <a id="30882" class="Symbol">=</a>  <a id="30885" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="30890" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a>
<a id="30894" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="30903" class="Symbol">(</a><a id="30904" href="/20.07/DeBruijn/#30904" class="Bound">L</a> <a id="30906" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="30908" href="/20.07/DeBruijn/#30908" class="Bound">M</a><a id="30909" class="Symbol">)</a> <a id="30911" class="Keyword">with</a> <a id="30916" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="30925" href="/20.07/DeBruijn/#30904" class="Bound">L</a>
<a id="30927" class="Symbol">...</a>    <a id="30934" class="Symbol">|</a> <a id="30936" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="30941" href="/20.07/DeBruijn/#30941" class="Bound">L—→L′</a>                     <a id="30967" class="Symbol">=</a>  <a id="30970" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="30975" class="Symbol">(</a><a id="30976" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="30981" href="/20.07/DeBruijn/#30941" class="Bound">L—→L′</a><a id="30986" class="Symbol">)</a>
<a id="30988" class="Symbol">...</a>    <a id="30995" class="Symbol">|</a> <a id="30997" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="31002" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="31006" class="Keyword">with</a> <a id="31011" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="31020" class="Bound">M</a>
<a id="31022" class="Symbol">...</a>        <a id="31033" class="Symbol">|</a> <a id="31035" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31040" href="/20.07/DeBruijn/#31040" class="Bound">M—→M′</a>                 <a id="31062" class="Symbol">=</a>  <a id="31065" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31070" class="Symbol">(</a><a id="31071" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="31076" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="31080" href="/20.07/DeBruijn/#31040" class="Bound">M—→M′</a><a id="31085" class="Symbol">)</a>
<a id="31087" class="Symbol">...</a>        <a id="31098" class="Symbol">|</a> <a id="31100" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="31105" href="/20.07/DeBruijn/#31105" class="Bound">VM</a>                    <a id="31127" class="Symbol">=</a>  <a id="31130" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31135" class="Symbol">(</a><a id="31136" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="31140" href="/20.07/DeBruijn/#31105" class="Bound">VM</a><a id="31142" class="Symbol">)</a>
<a id="31144" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="31153" class="Symbol">(</a><a id="31154" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="31159" class="Symbol">)</a>                        <a id="31184" class="Symbol">=</a>  <a id="31187" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="31192" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a>
<a id="31199" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="31208" class="Symbol">(</a><a id="31209" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="31214" href="/20.07/DeBruijn/#31214" class="Bound">M</a><a id="31215" class="Symbol">)</a> <a id="31217" class="Keyword">with</a> <a id="31222" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="31231" href="/20.07/DeBruijn/#31214" class="Bound">M</a>
<a id="31233" class="Symbol">...</a>    <a id="31240" class="Symbol">|</a> <a id="31242" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31247" href="/20.07/DeBruijn/#31247" class="Bound">M—→M′</a>                     <a id="31273" class="Symbol">=</a>  <a id="31276" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31281" class="Symbol">(</a><a id="31282" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="31288" href="/20.07/DeBruijn/#31247" class="Bound">M—→M′</a><a id="31293" class="Symbol">)</a>
<a id="31295" class="Symbol">...</a>    <a id="31302" class="Symbol">|</a> <a id="31304" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="31309" href="/20.07/DeBruijn/#31309" class="Bound">VM</a>                        <a id="31335" class="Symbol">=</a>  <a id="31338" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="31343" class="Symbol">(</a><a id="31344" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="31350" href="/20.07/DeBruijn/#31309" class="Bound">VM</a><a id="31352" class="Symbol">)</a>
<a id="31354" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="31363" class="Symbol">(</a><a id="31364" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="31369" href="/20.07/DeBruijn/#31369" class="Bound">L</a> <a id="31371" href="/20.07/DeBruijn/#31371" class="Bound">M</a> <a id="31373" href="/20.07/DeBruijn/#31373" class="Bound">N</a><a id="31374" class="Symbol">)</a> <a id="31376" class="Keyword">with</a> <a id="31381" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="31390" href="/20.07/DeBruijn/#31369" class="Bound">L</a>
<a id="31392" class="Symbol">...</a>    <a id="31399" class="Symbol">|</a> <a id="31401" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31406" href="/20.07/DeBruijn/#31406" class="Bound">L—→L′</a>                     <a id="31432" class="Symbol">=</a>  <a id="31435" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31440" class="Symbol">(</a><a id="31441" href="/20.07/DeBruijn/#25232" class="InductiveConstructor">ξ-case</a> <a id="31448" href="/20.07/DeBruijn/#31406" class="Bound">L—→L′</a><a id="31453" class="Symbol">)</a>
<a id="31455" class="Symbol">...</a>    <a id="31462" class="Symbol">|</a> <a id="31464" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="31469" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a>                    <a id="31495" class="Symbol">=</a>  <a id="31498" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31503" class="Symbol">(</a><a id="31504" href="/20.07/DeBruijn/#25375" class="InductiveConstructor">β-zero</a><a id="31510" class="Symbol">)</a>
<a id="31512" class="Symbol">...</a>    <a id="31519" class="Symbol">|</a> <a id="31521" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="31526" class="Symbol">(</a><a id="31527" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="31533" href="/20.07/DeBruijn/#31533" class="Bound">VL</a><a id="31535" class="Symbol">)</a>                <a id="31552" class="Symbol">=</a>  <a id="31555" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31560" class="Symbol">(</a><a id="31561" href="/20.07/DeBruijn/#25477" class="InductiveConstructor">β-suc</a> <a id="31567" href="/20.07/DeBruijn/#31533" class="Bound">VL</a><a id="31569" class="Symbol">)</a>
<a id="31571" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="31580" class="Symbol">(</a><a id="31581" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="31583" href="/20.07/DeBruijn/#31583" class="Bound">N</a><a id="31584" class="Symbol">)</a>                          <a id="31611" class="Symbol">=</a>  <a id="31614" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="31619" class="Symbol">(</a><a id="31620" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="31623" class="Symbol">)</a>
</pre><h2 id="evaluation">Evaluation</h2><p>Before, we combined progress and preservation to evaluate a term. We can do much the same here, but we no longer need to explicitly refer to preservation, since it is built-in to the definition of reduction.</p><p>As previously, gas is specified by a natural number:</p><pre class="Agda"><a id="31912" class="Keyword">data</a> <a id="Gas"></a><a id="31917" href="/20.07/DeBruijn/#31917" class="Datatype">Gas</a> <a id="31921" class="Symbol">:</a> <a id="31923" class="PrimitiveType">Set</a> <a id="31927" class="Keyword">where</a>
  <a id="Gas.gas"></a><a id="31935" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="31939" class="Symbol">:</a> <a id="31941" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="31943" class="Symbol">→</a> <a id="31945" href="/20.07/DeBruijn/#31917" class="Datatype">Gas</a>
</pre><p>When our evaluator returns a term <code class="language-plaintext highlighter-rouge">N</code>, it will either give evidence that <code class="language-plaintext highlighter-rouge">N</code> is a value or indicate that it ran out of gas:</p><pre class="Agda"><a id="32081" class="Keyword">data</a> <a id="Finished"></a><a id="32086" href="/20.07/DeBruijn/#32086" class="Datatype">Finished</a> <a id="32095" class="Symbol">{</a><a id="32096" href="/20.07/DeBruijn/#32096" class="Bound">Γ</a> <a id="32098" href="/20.07/DeBruijn/#32098" class="Bound">A</a><a id="32099" class="Symbol">}</a> <a id="32101" class="Symbol">(</a><a id="32102" href="/20.07/DeBruijn/#32102" class="Bound">N</a> <a id="32104" class="Symbol">:</a> <a id="32106" href="/20.07/DeBruijn/#32096" class="Bound">Γ</a> <a id="32108" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="32110" href="/20.07/DeBruijn/#32098" class="Bound">A</a><a id="32111" class="Symbol">)</a> <a id="32113" class="Symbol">:</a> <a id="32115" class="PrimitiveType">Set</a> <a id="32119" class="Keyword">where</a>

   <a id="Finished.done"></a><a id="32129" href="/20.07/DeBruijn/#32129" class="InductiveConstructor">done</a> <a id="32134" class="Symbol">:</a>
       <a id="32143" href="/20.07/DeBruijn/#24003" class="Datatype">Value</a> <a id="32149" href="/20.07/DeBruijn/#32102" class="Bound">N</a>
       <a id="32158" class="Comment">----------</a>
     <a id="32174" class="Symbol">→</a> <a id="32176" href="/20.07/DeBruijn/#32086" class="Datatype">Finished</a> <a id="32185" href="/20.07/DeBruijn/#32102" class="Bound">N</a>

   <a id="Finished.out-of-gas"></a><a id="32191" href="/20.07/DeBruijn/#32191" class="InductiveConstructor">out-of-gas</a> <a id="32202" class="Symbol">:</a>
       <a id="32211" class="Comment">----------</a>
       <a id="32229" href="/20.07/DeBruijn/#32086" class="Datatype">Finished</a> <a id="32238" href="/20.07/DeBruijn/#32102" class="Bound">N</a>
</pre><p>Given a term <code class="language-plaintext highlighter-rouge">L</code> of type <code class="language-plaintext highlighter-rouge">A</code>, the evaluator will, for some <code class="language-plaintext highlighter-rouge">N</code>, return a reduction sequence from <code class="language-plaintext highlighter-rouge">L</code> to <code class="language-plaintext highlighter-rouge">N</code> and an indication of whether reduction finished:</p><pre class="Agda"><a id="32405" class="Keyword">data</a> <a id="Steps"></a><a id="32410" href="/20.07/DeBruijn/#32410" class="Datatype">Steps</a> <a id="32416" class="Symbol">:</a> <a id="32418" class="Symbol">∀</a> <a id="32420" class="Symbol">{</a><a id="32421" href="/20.07/DeBruijn/#32421" class="Bound">A</a><a id="32422" class="Symbol">}</a> <a id="32424" class="Symbol">→</a> <a id="32426" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="32428" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="32430" href="/20.07/DeBruijn/#32421" class="Bound">A</a> <a id="32432" class="Symbol">→</a> <a id="32434" class="PrimitiveType">Set</a> <a id="32438" class="Keyword">where</a>

  <a id="Steps.steps"></a><a id="32447" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a> <a id="32453" class="Symbol">:</a> <a id="32455" class="Symbol">∀</a> <a id="32457" class="Symbol">{</a><a id="32458" href="/20.07/DeBruijn/#32458" class="Bound">A</a><a id="32459" class="Symbol">}</a> <a id="32461" class="Symbol">{</a><a id="32462" href="/20.07/DeBruijn/#32462" class="Bound">L</a> <a id="32464" href="/20.07/DeBruijn/#32464" class="Bound">N</a> <a id="32466" class="Symbol">:</a> <a id="32468" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="32470" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="32472" href="/20.07/DeBruijn/#32458" class="Bound">A</a><a id="32473" class="Symbol">}</a>
    <a id="32479" class="Symbol">→</a> <a id="32481" href="/20.07/DeBruijn/#32462" class="Bound">L</a> <a id="32483" href="/20.07/DeBruijn/#26405" class="Datatype Operator">—↠</a> <a id="32486" href="/20.07/DeBruijn/#32464" class="Bound">N</a>
    <a id="32492" class="Symbol">→</a> <a id="32494" href="/20.07/DeBruijn/#32086" class="Datatype">Finished</a> <a id="32503" href="/20.07/DeBruijn/#32464" class="Bound">N</a>
      <a id="32511" class="Comment">----------</a>
    <a id="32526" class="Symbol">→</a> <a id="32528" href="/20.07/DeBruijn/#32410" class="Datatype">Steps</a> <a id="32534" href="/20.07/DeBruijn/#32462" class="Bound">L</a>
</pre><p>The evaluator takes gas and a term and returns the corresponding steps:</p><pre class="Agda"><a id="eval"></a><a id="32616" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="32621" class="Symbol">:</a> <a id="32623" class="Symbol">∀</a> <a id="32625" class="Symbol">{</a><a id="32626" href="/20.07/DeBruijn/#32626" class="Bound">A</a><a id="32627" class="Symbol">}</a>
  <a id="32631" class="Symbol">→</a> <a id="32633" href="/20.07/DeBruijn/#31917" class="Datatype">Gas</a>
  <a id="32639" class="Symbol">→</a> <a id="32641" class="Symbol">(</a><a id="32642" href="/20.07/DeBruijn/#32642" class="Bound">L</a> <a id="32644" class="Symbol">:</a> <a id="32646" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="32648" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="32650" href="/20.07/DeBruijn/#32626" class="Bound">A</a><a id="32651" class="Symbol">)</a>
    <a id="32657" class="Comment">-----------</a>
  <a id="32671" class="Symbol">→</a> <a id="32673" href="/20.07/DeBruijn/#32410" class="Datatype">Steps</a> <a id="32679" href="/20.07/DeBruijn/#32642" class="Bound">L</a>
<a id="32681" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="32686" class="Symbol">(</a><a id="32687" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="32691" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="32695" class="Symbol">)</a>    <a id="32700" href="/20.07/DeBruijn/#32700" class="Bound">L</a>                     <a id="32722" class="Symbol">=</a>  <a id="32725" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a> <a id="32731" class="Symbol">(</a><a id="32732" href="/20.07/DeBruijn/#32700" class="Bound">L</a> <a id="32734" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a><a id="32735" class="Symbol">)</a> <a id="32737" href="/20.07/DeBruijn/#32191" class="InductiveConstructor">out-of-gas</a>
<a id="32748" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="32753" class="Symbol">(</a><a id="32754" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="32758" class="Symbol">(</a><a id="32759" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="32763" href="/20.07/DeBruijn/#32763" class="Bound">m</a><a id="32764" class="Symbol">))</a> <a id="32767" href="/20.07/DeBruijn/#32767" class="Bound">L</a> <a id="32769" class="Keyword">with</a> <a id="32774" href="/20.07/DeBruijn/#30782" class="Function">progress</a> <a id="32783" href="/20.07/DeBruijn/#32767" class="Bound">L</a>
<a id="32785" class="Symbol">...</a> <a id="32789" class="Symbol">|</a> <a id="32791" href="/20.07/DeBruijn/#30520" class="InductiveConstructor">done</a> <a id="32796" href="/20.07/DeBruijn/#32796" class="Bound">VL</a>                            <a id="32826" class="Symbol">=</a>  <a id="32829" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a> <a id="32835" class="Symbol">(</a><a id="32836" class="Bound">L</a> <a id="32838" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a><a id="32839" class="Symbol">)</a> <a id="32841" class="Symbol">(</a><a id="32842" href="/20.07/DeBruijn/#32129" class="InductiveConstructor">done</a> <a id="32847" href="/20.07/DeBruijn/#32796" class="Bound">VL</a><a id="32849" class="Symbol">)</a>
<a id="32851" class="Symbol">...</a> <a id="32855" class="Symbol">|</a> <a id="32857" href="/20.07/DeBruijn/#30449" class="InductiveConstructor">step</a> <a id="32862" class="Symbol">{</a><a id="32863" href="/20.07/DeBruijn/#32863" class="Bound">M</a><a id="32864" class="Symbol">}</a> <a id="32866" href="/20.07/DeBruijn/#32866" class="Bound">L—→M</a> <a id="32871" class="Keyword">with</a> <a id="32876" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="32881" class="Symbol">(</a><a id="32882" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="32886" class="Bound">m</a><a id="32887" class="Symbol">)</a> <a id="32889" href="/20.07/DeBruijn/#32863" class="Bound">M</a>
<a id="32891" class="Symbol">...</a>    <a id="32898" class="Symbol">|</a> <a id="32900" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a> <a id="32906" href="/20.07/DeBruijn/#32906" class="Bound">M—↠N</a> <a id="32911" href="/20.07/DeBruijn/#32911" class="Bound">fin</a>                  <a id="32932" class="Symbol">=</a>  <a id="32935" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a> <a id="32941" class="Symbol">(</a><a id="32942" class="Bound">L</a> <a id="32944" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="32948" class="Bound">L—→M</a> <a id="32953" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a> <a id="32955" href="/20.07/DeBruijn/#32906" class="Bound">M—↠N</a><a id="32959" class="Symbol">)</a> <a id="32961" href="/20.07/DeBruijn/#32911" class="Bound">fin</a>
</pre><p>The definition is a little simpler than previously, as we no longer need to invoke preservation.</p><h2 id="examples-1">Examples</h2><p>We reiterate each of our previous examples. We re-define the term <code class="language-plaintext highlighter-rouge">sucμ</code> that loops forever:</p><pre class="Agda"><a id="sucμ"></a><a id="33178" href="/20.07/DeBruijn/#33178" class="Function">sucμ</a> <a id="33183" class="Symbol">:</a> <a id="33185" href="/20.07/DeBruijn/#8901" class="InductiveConstructor">∅</a> <a id="33187" href="/20.07/DeBruijn/#11094" class="Datatype Operator">⊢</a> <a id="33189" href="/20.07/DeBruijn/#8757" class="InductiveConstructor">`ℕ</a>
<a id="33192" href="/20.07/DeBruijn/#33178" class="Function">sucμ</a> <a id="33197" class="Symbol">=</a> <a id="33199" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="33201" class="Symbol">(</a><a id="33202" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33207" class="Symbol">(</a><a id="33208" href="/20.07/DeBruijn/#13523" class="Function Operator">#</a> <a id="33210" class="Number">0</a><a id="33211" class="Symbol">))</a>
</pre><p>To compute the first three steps of the infinite reduction sequence, we evaluate with three steps worth of gas:</p><pre class="Agda"><a id="33334" href="/20.07/DeBruijn/#33334" class="Function">_</a> <a id="33336" class="Symbol">:</a> <a id="33338" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="33343" class="Symbol">(</a><a id="33344" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="33348" class="Number">3</a><a id="33349" class="Symbol">)</a> <a id="33351" href="/20.07/DeBruijn/#33178" class="Function">sucμ</a> <a id="33356" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a>
  <a id="33360" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a>
   <a id="33369" class="Symbol">(</a><a id="33370" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="33372" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33377" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33379" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
   <a id="33384" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="33388" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a> <a id="33392" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="33398" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33403" class="Symbol">(</a><a id="33404" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="33406" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33411" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33413" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33414" class="Symbol">)</a>
   <a id="33419" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="33423" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="33429" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a> <a id="33433" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="33439" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33444" class="Symbol">(</a><a id="33445" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33450" class="Symbol">(</a><a id="33451" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="33453" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33458" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33460" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33461" class="Symbol">))</a>
   <a id="33467" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="33471" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="33477" class="Symbol">(</a><a id="33478" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="33484" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="33487" class="Symbol">)</a> <a id="33489" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="33495" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33500" class="Symbol">(</a><a id="33501" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33506" class="Symbol">(</a><a id="33507" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33512" class="Symbol">(</a><a id="33513" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a> <a id="33515" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33520" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33522" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33523" class="Symbol">)))</a>
   <a id="33530" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a><a id="33531" class="Symbol">)</a>
   <a id="33536" href="/20.07/DeBruijn/#32191" class="InductiveConstructor">out-of-gas</a>
<a id="33547" class="Symbol">_</a> <a id="33549" class="Symbol">=</a> <a id="33551" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre><p>The Church numeral two applied to successor and zero:</p><pre class="Agda"><a id="33619" href="/20.07/DeBruijn/#33619" class="Function">_</a> <a id="33621" class="Symbol">:</a> <a id="33623" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="33628" class="Symbol">(</a><a id="33629" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="33633" class="Number">100</a><a id="33636" class="Symbol">)</a> <a id="33638" class="Symbol">(</a><a id="33639" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="33644" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33646" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="33651" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33653" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="33658" class="Symbol">)</a> <a id="33660" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a>
  <a id="33664" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a>
   <a id="33673" class="Symbol">((</a><a id="33675" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33677" class="Symbol">(</a><a id="33678" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33680" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33682" class="Symbol">(</a><a id="33683" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="33685" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33686" class="Symbol">)</a> <a id="33688" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33690" class="Symbol">(</a><a id="33691" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33693" class="Symbol">(</a><a id="33694" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="33696" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33697" class="Symbol">)</a> <a id="33699" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33701" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33703" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33704" class="Symbol">)))</a> <a id="33708" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33710" class="Symbol">(</a><a id="33711" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33713" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33718" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33720" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33721" class="Symbol">)</a> <a id="33723" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33725" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
   <a id="33734" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="33738" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="33743" class="Symbol">(</a><a id="33744" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="33748" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="33751" class="Symbol">)</a> <a id="33753" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="33759" class="Symbol">(</a><a id="33760" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33762" class="Symbol">(</a><a id="33763" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33765" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33770" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33772" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33773" class="Symbol">)</a> <a id="33775" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33777" class="Symbol">((</a><a id="33779" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33781" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33786" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33788" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33789" class="Symbol">)</a> <a id="33791" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33793" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33795" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33796" class="Symbol">))</a> <a id="33799" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33801" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
   <a id="33810" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="33814" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="33818" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a> <a id="33825" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="33831" class="Symbol">(</a><a id="33832" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33834" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33839" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33841" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33842" class="Symbol">)</a> <a id="33844" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33846" class="Symbol">((</a><a id="33848" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33850" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33855" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33857" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33858" class="Symbol">)</a> <a id="33860" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33862" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="33867" class="Symbol">)</a>
   <a id="33872" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="33876" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="33881" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="33885" class="Symbol">(</a><a id="33886" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="33890" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="33896" class="Symbol">)</a> <a id="33898" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="33904" class="Symbol">(</a><a id="33905" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="33907" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33912" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="33914" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="33915" class="Symbol">)</a> <a id="33917" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="33919" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33924" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
   <a id="33933" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="33937" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="33941" class="Symbol">(</a><a id="33942" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="33948" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="33954" class="Symbol">)</a> <a id="33956" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="33962" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33967" class="Symbol">(</a><a id="33968" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="33973" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="33978" class="Symbol">)</a>
   <a id="33983" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a><a id="33984" class="Symbol">)</a>
   <a id="33989" class="Symbol">(</a><a id="33990" href="/20.07/DeBruijn/#32129" class="InductiveConstructor">done</a> <a id="33995" class="Symbol">(</a><a id="33996" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="34002" class="Symbol">(</a><a id="34003" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="34009" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="34015" class="Symbol">)))</a>
<a id="34019" class="Symbol">_</a> <a id="34021" class="Symbol">=</a> <a id="34023" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre><p>Two plus two is four:</p><pre class="Agda"><a id="34059" href="/20.07/DeBruijn/#34059" class="Function">_</a> <a id="34061" class="Symbol">:</a> <a id="34063" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="34068" class="Symbol">(</a><a id="34069" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="34073" class="Number">100</a><a id="34076" class="Symbol">)</a> <a id="34078" class="Symbol">(</a><a id="34079" href="/20.07/DeBruijn/#14010" class="Function">plus</a> <a id="34084" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34086" href="/20.07/DeBruijn/#13966" class="Function">two</a> <a id="34090" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34092" href="/20.07/DeBruijn/#13966" class="Function">two</a><a id="34095" class="Symbol">)</a> <a id="34097" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a>
  <a id="34101" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a>
   <a id="34110" class="Symbol">((</a><a id="34112" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
     <a id="34119" class="Symbol">(</a><a id="34120" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
      <a id="34128" class="Symbol">(</a><a id="34129" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
       <a id="34138" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="34143" class="Symbol">(</a><a id="34144" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34146" class="Symbol">(</a><a id="34147" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34149" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34150" class="Symbol">))</a> <a id="34153" class="Symbol">(</a><a id="34154" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34156" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34157" class="Symbol">)</a> <a id="34159" class="Symbol">(</a><a id="34160" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34165" class="Symbol">(</a><a id="34166" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34168" class="Symbol">(</a><a id="34169" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34171" class="Symbol">(</a><a id="34172" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34174" class="Symbol">(</a><a id="34175" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34177" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34178" class="Symbol">)))</a> <a id="34182" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34184" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34186" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="34188" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34190" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34192" class="Symbol">(</a><a id="34193" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34195" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34196" class="Symbol">))))))</a>
    <a id="34207" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34209" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34214" class="Symbol">(</a><a id="34215" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34220" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34225" class="Symbol">)</a>
    <a id="34231" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34233" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34238" class="Symbol">(</a><a id="34239" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34244" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34249" class="Symbol">)</a>
   <a id="34254" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="34258" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="34263" class="Symbol">(</a><a id="34264" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="34269" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="34272" class="Symbol">)</a> <a id="34274" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="34280" class="Symbol">(</a><a id="34281" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
     <a id="34288" class="Symbol">(</a><a id="34289" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
      <a id="34297" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="34302" class="Symbol">(</a><a id="34303" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34305" class="Symbol">(</a><a id="34306" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34308" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34309" class="Symbol">))</a> <a id="34312" class="Symbol">(</a><a id="34313" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34315" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34316" class="Symbol">)</a>
      <a id="34324" class="Symbol">(</a><a id="34325" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
       <a id="34337" class="Symbol">((</a><a id="34339" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
         <a id="34350" class="Symbol">(</a><a id="34351" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
          <a id="34363" class="Symbol">(</a><a id="34364" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
           <a id="34377" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="34382" class="Symbol">(</a><a id="34383" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34385" class="Symbol">(</a><a id="34386" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34388" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34389" class="Symbol">))</a> <a id="34392" class="Symbol">(</a><a id="34393" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34395" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34396" class="Symbol">)</a> <a id="34398" class="Symbol">(</a><a id="34399" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34404" class="Symbol">(</a><a id="34405" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34407" class="Symbol">(</a><a id="34408" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34410" class="Symbol">(</a><a id="34411" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34413" class="Symbol">(</a><a id="34414" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34416" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34417" class="Symbol">)))</a> <a id="34421" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34423" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34425" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="34427" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34429" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34431" class="Symbol">(</a><a id="34432" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34434" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34435" class="Symbol">))))))</a>
        <a id="34450" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34452" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34454" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
        <a id="34464" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34466" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34468" class="Symbol">(</a><a id="34469" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34471" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34472" class="Symbol">)))))</a>
    <a id="34482" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34484" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34489" class="Symbol">(</a><a id="34490" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34495" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34500" class="Symbol">)</a>
    <a id="34506" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34508" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34513" class="Symbol">(</a><a id="34514" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34519" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34524" class="Symbol">)</a>
   <a id="34529" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="34533" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="34538" class="Symbol">(</a><a id="34539" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="34543" class="Symbol">(</a><a id="34544" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="34550" class="Symbol">(</a><a id="34551" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="34557" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="34563" class="Symbol">)))</a> <a id="34567" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="34573" class="Symbol">(</a><a id="34574" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
     <a id="34581" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="34586" class="Symbol">(</a><a id="34587" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34592" class="Symbol">(</a><a id="34593" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34598" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34603" class="Symbol">))</a> <a id="34606" class="Symbol">(</a><a id="34607" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34609" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34610" class="Symbol">)</a>
     <a id="34617" class="Symbol">(</a><a id="34618" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
      <a id="34629" class="Symbol">((</a><a id="34631" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
        <a id="34641" class="Symbol">(</a><a id="34642" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
         <a id="34653" class="Symbol">(</a><a id="34654" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
          <a id="34666" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="34671" class="Symbol">(</a><a id="34672" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34674" class="Symbol">(</a><a id="34675" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34677" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34678" class="Symbol">))</a> <a id="34681" class="Symbol">(</a><a id="34682" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34684" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34685" class="Symbol">)</a> <a id="34687" class="Symbol">(</a><a id="34688" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34693" class="Symbol">(</a><a id="34694" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34696" class="Symbol">(</a><a id="34697" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34699" class="Symbol">(</a><a id="34700" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34702" class="Symbol">(</a><a id="34703" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34705" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34706" class="Symbol">)))</a> <a id="34710" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34712" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34714" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="34716" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34718" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34720" class="Symbol">(</a><a id="34721" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34723" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34724" class="Symbol">))))))</a>
       <a id="34738" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34740" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34742" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
       <a id="34751" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34753" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34755" class="Symbol">(</a><a id="34756" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34758" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34759" class="Symbol">))))</a>
    <a id="34768" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34770" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34775" class="Symbol">(</a><a id="34776" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34781" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34786" class="Symbol">)</a>
   <a id="34791" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="34795" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="34799" class="Symbol">(</a><a id="34800" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="34806" class="Symbol">(</a><a id="34807" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="34813" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="34819" class="Symbol">))</a> <a id="34822" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="34828" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="34833" class="Symbol">(</a><a id="34834" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34839" class="Symbol">(</a><a id="34840" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34845" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34850" class="Symbol">))</a> <a id="34853" class="Symbol">(</a><a id="34854" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34859" class="Symbol">(</a><a id="34860" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34865" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="34870" class="Symbol">))</a>
    <a id="34877" class="Symbol">(</a><a id="34878" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
     <a id="34888" class="Symbol">((</a><a id="34890" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
       <a id="34899" class="Symbol">(</a><a id="34900" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
        <a id="34910" class="Symbol">(</a><a id="34911" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
         <a id="34922" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="34927" class="Symbol">(</a><a id="34928" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34930" class="Symbol">(</a><a id="34931" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34933" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34934" class="Symbol">))</a> <a id="34937" class="Symbol">(</a><a id="34938" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34940" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34941" class="Symbol">)</a> <a id="34943" class="Symbol">(</a><a id="34944" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="34949" class="Symbol">(</a><a id="34950" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34952" class="Symbol">(</a><a id="34953" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34955" class="Symbol">(</a><a id="34956" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34958" class="Symbol">(</a><a id="34959" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34961" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34962" class="Symbol">)))</a> <a id="34966" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34968" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34970" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="34972" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34974" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34976" class="Symbol">(</a><a id="34977" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="34979" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="34980" class="Symbol">))))))</a>
      <a id="34993" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="34995" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="34997" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
      <a id="35005" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35007" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35012" class="Symbol">(</a><a id="35013" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35018" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="35023" class="Symbol">)))</a>
   <a id="35030" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="35034" href="/20.07/DeBruijn/#25477" class="InductiveConstructor">β-suc</a> <a id="35040" class="Symbol">(</a><a id="35041" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="35047" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="35053" class="Symbol">)</a> <a id="35055" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="35061" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="35070" class="Symbol">((</a><a id="35072" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
      <a id="35080" class="Symbol">(</a><a id="35081" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
       <a id="35090" class="Symbol">(</a><a id="35091" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
        <a id="35101" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="35106" class="Symbol">(</a><a id="35107" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35109" class="Symbol">(</a><a id="35110" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35112" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35113" class="Symbol">))</a> <a id="35116" class="Symbol">(</a><a id="35117" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35119" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35120" class="Symbol">)</a> <a id="35122" class="Symbol">(</a><a id="35123" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35128" class="Symbol">(</a><a id="35129" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35131" class="Symbol">(</a><a id="35132" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35134" class="Symbol">(</a><a id="35135" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35137" class="Symbol">(</a><a id="35138" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35140" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35141" class="Symbol">)))</a> <a id="35145" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35147" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35149" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="35151" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35153" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35155" class="Symbol">(</a><a id="35156" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35158" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35159" class="Symbol">))))))</a>
     <a id="35171" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35173" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35178" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
     <a id="35189" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35191" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35196" class="Symbol">(</a><a id="35197" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35202" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="35207" class="Symbol">))</a>
   <a id="35213" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="35217" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="35223" class="Symbol">(</a><a id="35224" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="35229" class="Symbol">(</a><a id="35230" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="35235" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="35238" class="Symbol">))</a> <a id="35241" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="35247" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="35256" class="Symbol">((</a><a id="35258" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
      <a id="35266" class="Symbol">(</a><a id="35267" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
       <a id="35276" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="35281" class="Symbol">(</a><a id="35282" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35284" class="Symbol">(</a><a id="35285" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35287" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35288" class="Symbol">))</a> <a id="35291" class="Symbol">(</a><a id="35292" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35294" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35295" class="Symbol">)</a>
       <a id="35304" class="Symbol">(</a><a id="35305" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
        <a id="35318" class="Symbol">((</a><a id="35320" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
          <a id="35332" class="Symbol">(</a><a id="35333" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
           <a id="35346" class="Symbol">(</a><a id="35347" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
            <a id="35361" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="35366" class="Symbol">(</a><a id="35367" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35369" class="Symbol">(</a><a id="35370" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35372" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35373" class="Symbol">))</a> <a id="35376" class="Symbol">(</a><a id="35377" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35379" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35380" class="Symbol">)</a> <a id="35382" class="Symbol">(</a><a id="35383" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35388" class="Symbol">(</a><a id="35389" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35391" class="Symbol">(</a><a id="35392" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35394" class="Symbol">(</a><a id="35395" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35397" class="Symbol">(</a><a id="35398" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35400" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35401" class="Symbol">)))</a> <a id="35405" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35407" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35409" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="35411" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35413" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35415" class="Symbol">(</a><a id="35416" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35418" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35419" class="Symbol">))))))</a>
         <a id="35435" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35437" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35439" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
         <a id="35450" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35452" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35454" class="Symbol">(</a><a id="35455" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35457" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35458" class="Symbol">)))))</a>
     <a id="35469" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35471" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35476" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
     <a id="35487" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35489" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35494" class="Symbol">(</a><a id="35495" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35500" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="35505" class="Symbol">))</a>
   <a id="35511" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="35515" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="35521" class="Symbol">(</a><a id="35522" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="35527" class="Symbol">(</a><a id="35528" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="35532" class="Symbol">(</a><a id="35533" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="35539" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="35545" class="Symbol">)))</a> <a id="35549" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="35555" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="35564" class="Symbol">((</a><a id="35566" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
      <a id="35574" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="35579" class="Symbol">(</a><a id="35580" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35585" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="35590" class="Symbol">)</a> <a id="35592" class="Symbol">(</a><a id="35593" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35595" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35596" class="Symbol">)</a>
      <a id="35604" class="Symbol">(</a><a id="35605" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
       <a id="35617" class="Symbol">((</a><a id="35619" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
         <a id="35630" class="Symbol">(</a><a id="35631" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
          <a id="35643" class="Symbol">(</a><a id="35644" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
           <a id="35657" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="35662" class="Symbol">(</a><a id="35663" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35665" class="Symbol">(</a><a id="35666" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35668" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35669" class="Symbol">))</a> <a id="35672" class="Symbol">(</a><a id="35673" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35675" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35676" class="Symbol">)</a> <a id="35678" class="Symbol">(</a><a id="35679" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35684" class="Symbol">(</a><a id="35685" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35687" class="Symbol">(</a><a id="35688" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35690" class="Symbol">(</a><a id="35691" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35693" class="Symbol">(</a><a id="35694" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35696" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35697" class="Symbol">)))</a> <a id="35701" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35703" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35705" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="35707" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35709" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35711" class="Symbol">(</a><a id="35712" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35714" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35715" class="Symbol">))))))</a>
        <a id="35730" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35732" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35734" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
        <a id="35744" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35746" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35748" class="Symbol">(</a><a id="35749" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35751" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35752" class="Symbol">))))</a>
     <a id="35762" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35764" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35769" class="Symbol">(</a><a id="35770" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35775" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="35780" class="Symbol">))</a>
   <a id="35786" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="35790" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="35796" class="Symbol">(</a><a id="35797" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="35801" class="Symbol">(</a><a id="35802" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="35808" class="Symbol">(</a><a id="35809" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="35815" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="35821" class="Symbol">)))</a> <a id="35825" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="35831" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="35840" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="35845" class="Symbol">(</a><a id="35846" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35851" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="35856" class="Symbol">)</a> <a id="35858" class="Symbol">(</a><a id="35859" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35864" class="Symbol">(</a><a id="35865" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35870" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="35875" class="Symbol">))</a>
    <a id="35882" class="Symbol">(</a><a id="35883" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
     <a id="35893" class="Symbol">((</a><a id="35895" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
       <a id="35904" class="Symbol">(</a><a id="35905" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
        <a id="35915" class="Symbol">(</a><a id="35916" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
         <a id="35927" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="35932" class="Symbol">(</a><a id="35933" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35935" class="Symbol">(</a><a id="35936" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35938" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35939" class="Symbol">))</a> <a id="35942" class="Symbol">(</a><a id="35943" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35945" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35946" class="Symbol">)</a> <a id="35948" class="Symbol">(</a><a id="35949" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="35954" class="Symbol">(</a><a id="35955" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35957" class="Symbol">(</a><a id="35958" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35960" class="Symbol">(</a><a id="35961" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35963" class="Symbol">(</a><a id="35964" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35966" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35967" class="Symbol">)))</a> <a id="35971" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35973" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35975" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="35977" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="35979" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="35981" class="Symbol">(</a><a id="35982" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="35984" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="35985" class="Symbol">))))))</a>
      <a id="35998" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36000" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36002" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
      <a id="36010" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36012" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36017" class="Symbol">(</a><a id="36018" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36023" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="36028" class="Symbol">)))</a>
   <a id="36035" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="36039" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="36045" class="Symbol">(</a><a id="36046" href="/20.07/DeBruijn/#25477" class="InductiveConstructor">β-suc</a> <a id="36052" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="36058" class="Symbol">)</a> <a id="36060" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="36066" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="36075" class="Symbol">(</a><a id="36076" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
     <a id="36086" class="Symbol">((</a><a id="36088" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
       <a id="36097" class="Symbol">(</a><a id="36098" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
        <a id="36108" class="Symbol">(</a><a id="36109" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
         <a id="36120" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="36125" class="Symbol">(</a><a id="36126" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36128" class="Symbol">(</a><a id="36129" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36131" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36132" class="Symbol">))</a> <a id="36135" class="Symbol">(</a><a id="36136" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36138" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36139" class="Symbol">)</a> <a id="36141" class="Symbol">(</a><a id="36142" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36147" class="Symbol">(</a><a id="36148" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36150" class="Symbol">(</a><a id="36151" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36153" class="Symbol">(</a><a id="36154" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36156" class="Symbol">(</a><a id="36157" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36159" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36160" class="Symbol">)))</a> <a id="36164" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36166" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36168" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="36170" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36172" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36174" class="Symbol">(</a><a id="36175" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36177" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36178" class="Symbol">))))))</a>
      <a id="36191" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36193" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
      <a id="36205" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36207" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36212" class="Symbol">(</a><a id="36213" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36218" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="36223" class="Symbol">)))</a>
   <a id="36230" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="36234" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="36240" class="Symbol">(</a><a id="36241" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="36247" class="Symbol">(</a><a id="36248" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="36253" class="Symbol">(</a><a id="36254" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="36259" href="/20.07/DeBruijn/#25622" class="InductiveConstructor">β-μ</a><a id="36262" class="Symbol">)))</a> <a id="36266" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="36272" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="36281" class="Symbol">(</a><a id="36282" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
     <a id="36292" class="Symbol">((</a><a id="36294" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
       <a id="36303" class="Symbol">(</a><a id="36304" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
        <a id="36314" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="36319" class="Symbol">(</a><a id="36320" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36322" class="Symbol">(</a><a id="36323" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36325" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36326" class="Symbol">))</a> <a id="36329" class="Symbol">(</a><a id="36330" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36332" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36333" class="Symbol">)</a>
        <a id="36343" class="Symbol">(</a><a id="36344" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
         <a id="36358" class="Symbol">((</a><a id="36360" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
           <a id="36373" class="Symbol">(</a><a id="36374" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
            <a id="36388" class="Symbol">(</a><a id="36389" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
             <a id="36404" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="36409" class="Symbol">(</a><a id="36410" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36412" class="Symbol">(</a><a id="36413" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36415" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36416" class="Symbol">))</a> <a id="36419" class="Symbol">(</a><a id="36420" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36422" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36423" class="Symbol">)</a> <a id="36425" class="Symbol">(</a><a id="36426" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36431" class="Symbol">(</a><a id="36432" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36434" class="Symbol">(</a><a id="36435" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36437" class="Symbol">(</a><a id="36438" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36440" class="Symbol">(</a><a id="36441" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36443" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36444" class="Symbol">)))</a> <a id="36448" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36450" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36452" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="36454" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36456" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36458" class="Symbol">(</a><a id="36459" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36461" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36462" class="Symbol">))))))</a>
          <a id="36479" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36481" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36483" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
          <a id="36495" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36497" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36499" class="Symbol">(</a><a id="36500" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36502" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36503" class="Symbol">)))))</a>
      <a id="36515" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36517" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
      <a id="36529" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36531" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36536" class="Symbol">(</a><a id="36537" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36542" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="36547" class="Symbol">)))</a>
   <a id="36554" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="36558" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="36564" class="Symbol">(</a><a id="36565" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="36571" class="Symbol">(</a><a id="36572" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="36577" class="Symbol">(</a><a id="36578" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="36582" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="36588" class="Symbol">)))</a> <a id="36592" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="36598" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="36607" class="Symbol">(</a><a id="36608" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
     <a id="36618" class="Symbol">((</a><a id="36620" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
       <a id="36629" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="36634" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="36640" class="Symbol">(</a><a id="36641" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36643" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36644" class="Symbol">)</a>
       <a id="36653" class="Symbol">(</a><a id="36654" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
        <a id="36667" class="Symbol">((</a><a id="36669" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
          <a id="36681" class="Symbol">(</a><a id="36682" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
           <a id="36695" class="Symbol">(</a><a id="36696" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
            <a id="36710" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="36715" class="Symbol">(</a><a id="36716" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36718" class="Symbol">(</a><a id="36719" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36721" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36722" class="Symbol">))</a> <a id="36725" class="Symbol">(</a><a id="36726" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36728" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36729" class="Symbol">)</a> <a id="36731" class="Symbol">(</a><a id="36732" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36737" class="Symbol">(</a><a id="36738" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36740" class="Symbol">(</a><a id="36741" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36743" class="Symbol">(</a><a id="36744" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36746" class="Symbol">(</a><a id="36747" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36749" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36750" class="Symbol">)))</a> <a id="36754" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36756" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36758" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="36760" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36762" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36764" class="Symbol">(</a><a id="36765" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36767" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36768" class="Symbol">))))))</a>
         <a id="36784" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36786" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36788" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
         <a id="36799" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36801" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="36803" class="Symbol">(</a><a id="36804" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="36806" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="36807" class="Symbol">))))</a>
      <a id="36818" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="36820" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36825" class="Symbol">(</a><a id="36826" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36831" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="36836" class="Symbol">)))</a>
   <a id="36843" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="36847" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="36853" class="Symbol">(</a><a id="36854" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="36860" class="Symbol">(</a><a id="36861" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="36865" class="Symbol">(</a><a id="36866" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="36872" class="Symbol">(</a><a id="36873" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="36879" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="36885" class="Symbol">))))</a> <a id="36890" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="36896" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
    <a id="36905" class="Symbol">(</a><a id="36906" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
     <a id="36916" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="36921" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a> <a id="36927" class="Symbol">(</a><a id="36928" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36933" class="Symbol">(</a><a id="36934" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="36939" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="36944" class="Symbol">))</a>
     <a id="36952" class="Symbol">(</a><a id="36953" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a>
      <a id="36964" class="Symbol">((</a><a id="36966" href="/20.07/DeBruijn/#11515" class="InductiveConstructor Operator">μ</a>
        <a id="36976" class="Symbol">(</a><a id="36977" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
         <a id="36988" class="Symbol">(</a><a id="36989" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
          <a id="37001" href="/20.07/DeBruijn/#11426" class="InductiveConstructor">case</a> <a id="37006" class="Symbol">(</a><a id="37007" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37009" class="Symbol">(</a><a id="37010" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37012" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37013" class="Symbol">))</a> <a id="37016" class="Symbol">(</a><a id="37017" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37019" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37020" class="Symbol">)</a> <a id="37022" class="Symbol">(</a><a id="37023" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37028" class="Symbol">(</a><a id="37029" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37031" class="Symbol">(</a><a id="37032" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37034" class="Symbol">(</a><a id="37035" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37037" class="Symbol">(</a><a id="37038" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37040" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37041" class="Symbol">)))</a> <a id="37045" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37047" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37049" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a> <a id="37051" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37053" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37055" class="Symbol">(</a><a id="37056" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37058" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37059" class="Symbol">))))))</a>
       <a id="37073" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37075" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37077" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a>
       <a id="37086" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37088" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37093" class="Symbol">(</a><a id="37094" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37099" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="37104" class="Symbol">))))</a>
   <a id="37112" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="37116" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="37122" class="Symbol">(</a><a id="37123" href="/20.07/DeBruijn/#25137" class="InductiveConstructor">ξ-suc</a> <a id="37129" href="/20.07/DeBruijn/#25375" class="InductiveConstructor">β-zero</a><a id="37135" class="Symbol">)</a> <a id="37137" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="37143" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37148" class="Symbol">(</a><a id="37149" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37154" class="Symbol">(</a><a id="37155" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37160" class="Symbol">(</a><a id="37161" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37166" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="37171" class="Symbol">)))</a>
   <a id="37178" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a><a id="37179" class="Symbol">)</a>
   <a id="37184" class="Symbol">(</a><a id="37185" href="/20.07/DeBruijn/#32129" class="InductiveConstructor">done</a> <a id="37190" class="Symbol">(</a><a id="37191" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="37197" class="Symbol">(</a><a id="37198" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="37204" class="Symbol">(</a><a id="37205" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="37211" class="Symbol">(</a><a id="37212" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="37218" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="37224" class="Symbol">)))))</a>
<a id="37230" class="Symbol">_</a> <a id="37232" class="Symbol">=</a> <a id="37234" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre><p>And the corresponding term for Church numerals:</p><pre class="Agda"><a id="37296" href="/20.07/DeBruijn/#37296" class="Function">_</a> <a id="37298" class="Symbol">:</a> <a id="37300" href="/20.07/DeBruijn/#32616" class="Function">eval</a> <a id="37305" class="Symbol">(</a><a id="37306" href="/20.07/DeBruijn/#31935" class="InductiveConstructor">gas</a> <a id="37310" class="Number">100</a><a id="37313" class="Symbol">)</a> <a id="37315" class="Symbol">(</a><a id="37316" href="/20.07/DeBruijn/#14418" class="Function">plusᶜ</a> <a id="37322" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37324" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="37329" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37331" href="/20.07/DeBruijn/#14360" class="Function">twoᶜ</a> <a id="37336" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37338" href="/20.07/DeBruijn/#14508" class="Function">sucᶜ</a> <a id="37343" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37345" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="37350" class="Symbol">)</a> <a id="37352" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a>
  <a id="37356" href="/20.07/DeBruijn/#32447" class="InductiveConstructor">steps</a>
   <a id="37365" class="Symbol">((</a><a id="37367" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
     <a id="37374" class="Symbol">(</a><a id="37375" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
      <a id="37383" class="Symbol">(</a><a id="37384" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37386" class="Symbol">(</a><a id="37387" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37389" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37391" class="Symbol">(</a><a id="37392" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37394" class="Symbol">(</a><a id="37395" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37397" class="Symbol">(</a><a id="37398" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37400" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37401" class="Symbol">)))</a> <a id="37405" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37407" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37409" class="Symbol">(</a><a id="37410" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37412" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37413" class="Symbol">)</a> <a id="37415" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37417" class="Symbol">(</a><a id="37418" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37420" class="Symbol">(</a><a id="37421" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37423" class="Symbol">(</a><a id="37424" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37426" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37427" class="Symbol">))</a> <a id="37430" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37432" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37434" class="Symbol">(</a><a id="37435" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37437" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37438" class="Symbol">)</a> <a id="37440" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37442" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37444" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37445" class="Symbol">)))))</a>
    <a id="37455" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37457" class="Symbol">(</a><a id="37458" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37460" class="Symbol">(</a><a id="37461" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37463" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37465" class="Symbol">(</a><a id="37466" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37468" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37469" class="Symbol">)</a> <a id="37471" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37473" class="Symbol">(</a><a id="37474" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37476" class="Symbol">(</a><a id="37477" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37479" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37480" class="Symbol">)</a> <a id="37482" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37484" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37486" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37487" class="Symbol">)))</a>
    <a id="37495" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37497" class="Symbol">(</a><a id="37498" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37500" class="Symbol">(</a><a id="37501" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37503" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37505" class="Symbol">(</a><a id="37506" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37508" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37509" class="Symbol">)</a> <a id="37511" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37513" class="Symbol">(</a><a id="37514" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37516" class="Symbol">(</a><a id="37517" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37519" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37520" class="Symbol">)</a> <a id="37522" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37524" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37526" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37527" class="Symbol">)))</a>
    <a id="37535" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37537" class="Symbol">(</a><a id="37538" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37540" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37545" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37547" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37548" class="Symbol">)</a>
    <a id="37554" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37556" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
   <a id="37565" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="37569" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="37574" class="Symbol">(</a><a id="37575" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="37580" class="Symbol">(</a><a id="37581" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="37586" class="Symbol">(</a><a id="37587" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="37591" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="37594" class="Symbol">)))</a> <a id="37598" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="37604" class="Symbol">(</a><a id="37605" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
     <a id="37612" class="Symbol">(</a><a id="37613" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
      <a id="37621" class="Symbol">(</a><a id="37622" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
       <a id="37631" class="Symbol">(</a><a id="37632" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37634" class="Symbol">(</a><a id="37635" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37637" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37639" class="Symbol">(</a><a id="37640" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37642" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37643" class="Symbol">)</a> <a id="37645" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37647" class="Symbol">(</a><a id="37648" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37650" class="Symbol">(</a><a id="37651" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37653" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37654" class="Symbol">)</a> <a id="37656" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37658" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37660" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37661" class="Symbol">)))</a> <a id="37665" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37667" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37669" class="Symbol">(</a><a id="37670" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37672" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37673" class="Symbol">)</a> <a id="37675" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
       <a id="37684" class="Symbol">(</a><a id="37685" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37687" class="Symbol">(</a><a id="37688" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37690" class="Symbol">(</a><a id="37691" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37693" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37694" class="Symbol">))</a> <a id="37697" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37699" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37701" class="Symbol">(</a><a id="37702" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37704" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37705" class="Symbol">)</a> <a id="37707" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37709" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37711" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37712" class="Symbol">))))</a>
    <a id="37721" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37723" class="Symbol">(</a><a id="37724" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37726" class="Symbol">(</a><a id="37727" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37729" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37731" class="Symbol">(</a><a id="37732" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37734" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37735" class="Symbol">)</a> <a id="37737" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37739" class="Symbol">(</a><a id="37740" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37742" class="Symbol">(</a><a id="37743" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37745" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37746" class="Symbol">)</a> <a id="37748" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37750" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37752" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37753" class="Symbol">)))</a>
    <a id="37761" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37763" class="Symbol">(</a><a id="37764" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37766" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37771" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37773" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37774" class="Symbol">)</a>
    <a id="37780" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37782" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
   <a id="37791" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="37795" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="37800" class="Symbol">(</a><a id="37801" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="37806" class="Symbol">(</a><a id="37807" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="37811" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="37814" class="Symbol">))</a> <a id="37817" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="37823" class="Symbol">(</a><a id="37824" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
     <a id="37831" class="Symbol">(</a><a id="37832" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
      <a id="37840" class="Symbol">(</a><a id="37841" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37843" class="Symbol">(</a><a id="37844" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37846" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37848" class="Symbol">(</a><a id="37849" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37851" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37852" class="Symbol">)</a> <a id="37854" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37856" class="Symbol">(</a><a id="37857" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37859" class="Symbol">(</a><a id="37860" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37862" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37863" class="Symbol">)</a> <a id="37865" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37867" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37869" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37870" class="Symbol">)))</a> <a id="37874" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37876" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37878" class="Symbol">(</a><a id="37879" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37881" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37882" class="Symbol">)</a> <a id="37884" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
      <a id="37892" class="Symbol">((</a><a id="37894" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37896" class="Symbol">(</a><a id="37897" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37899" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37901" class="Symbol">(</a><a id="37902" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37904" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37905" class="Symbol">)</a> <a id="37907" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37909" class="Symbol">(</a><a id="37910" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37912" class="Symbol">(</a><a id="37913" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37915" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37916" class="Symbol">)</a> <a id="37918" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37920" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37922" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37923" class="Symbol">)))</a> <a id="37927" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37929" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37931" class="Symbol">(</a><a id="37932" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="37934" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37935" class="Symbol">)</a> <a id="37937" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37939" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37941" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37942" class="Symbol">)))</a>
    <a id="37950" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37952" class="Symbol">(</a><a id="37953" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="37955" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="37960" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="37962" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="37963" class="Symbol">)</a>
    <a id="37969" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="37971" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
   <a id="37980" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="37984" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="37989" class="Symbol">(</a><a id="37990" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="37994" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="37997" class="Symbol">)</a> <a id="37999" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38005" class="Symbol">(</a><a id="38006" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a>
     <a id="38013" class="Symbol">(</a><a id="38014" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38016" class="Symbol">(</a><a id="38017" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38019" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38021" class="Symbol">(</a><a id="38022" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38024" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38025" class="Symbol">)</a> <a id="38027" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38029" class="Symbol">(</a><a id="38030" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38032" class="Symbol">(</a><a id="38033" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38035" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38036" class="Symbol">)</a> <a id="38038" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38040" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38042" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38043" class="Symbol">)))</a> <a id="38047" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38049" class="Symbol">(</a><a id="38050" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38052" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38057" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38059" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38060" class="Symbol">)</a> <a id="38062" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
     <a id="38069" class="Symbol">((</a><a id="38071" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38073" class="Symbol">(</a><a id="38074" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38076" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38078" class="Symbol">(</a><a id="38079" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38081" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38082" class="Symbol">)</a> <a id="38084" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38086" class="Symbol">(</a><a id="38087" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38089" class="Symbol">(</a><a id="38090" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38092" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38093" class="Symbol">)</a> <a id="38095" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38097" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38099" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38100" class="Symbol">)))</a> <a id="38104" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38106" class="Symbol">(</a><a id="38107" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38109" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38114" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38116" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38117" class="Symbol">)</a> <a id="38119" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38121" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38123" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38124" class="Symbol">))</a>
    <a id="38131" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38133" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a>
   <a id="38142" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38146" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="38150" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a> <a id="38157" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38163" class="Symbol">(</a><a id="38164" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38166" class="Symbol">(</a><a id="38167" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38169" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38171" class="Symbol">(</a><a id="38172" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38174" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38175" class="Symbol">)</a> <a id="38177" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38179" class="Symbol">(</a><a id="38180" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38182" class="Symbol">(</a><a id="38183" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38185" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38186" class="Symbol">)</a> <a id="38188" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38190" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38192" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38193" class="Symbol">)))</a> <a id="38197" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38199" class="Symbol">(</a><a id="38200" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38202" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38207" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38209" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38210" class="Symbol">)</a> <a id="38212" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
    <a id="38218" class="Symbol">((</a><a id="38220" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38222" class="Symbol">(</a><a id="38223" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38225" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38227" class="Symbol">(</a><a id="38228" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38230" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38231" class="Symbol">)</a> <a id="38233" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38235" class="Symbol">(</a><a id="38236" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38238" class="Symbol">(</a><a id="38239" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38241" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38242" class="Symbol">)</a> <a id="38244" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38246" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38248" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38249" class="Symbol">)))</a> <a id="38253" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38255" class="Symbol">(</a><a id="38256" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38258" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38263" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38265" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38266" class="Symbol">)</a> <a id="38268" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38270" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="38275" class="Symbol">)</a>
   <a id="38280" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38284" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="38289" class="Symbol">(</a><a id="38290" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="38294" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="38297" class="Symbol">)</a> <a id="38299" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38305" class="Symbol">(</a><a id="38306" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38308" class="Symbol">(</a><a id="38309" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38311" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38316" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38318" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38319" class="Symbol">)</a> <a id="38321" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38323" class="Symbol">((</a><a id="38325" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38327" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38332" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38334" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38335" class="Symbol">)</a> <a id="38337" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38339" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38341" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38342" class="Symbol">))</a> <a id="38345" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
    <a id="38351" class="Symbol">((</a><a id="38353" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38355" class="Symbol">(</a><a id="38356" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38358" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38360" class="Symbol">(</a><a id="38361" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38363" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38364" class="Symbol">)</a> <a id="38366" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38368" class="Symbol">(</a><a id="38369" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38371" class="Symbol">(</a><a id="38372" href="/20.07/DeBruijn/#9906" class="InductiveConstructor Operator">S</a> <a id="38374" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38375" class="Symbol">)</a> <a id="38377" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38379" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38381" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38382" class="Symbol">)))</a> <a id="38386" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38388" class="Symbol">(</a><a id="38389" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38391" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38396" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38398" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38399" class="Symbol">)</a> <a id="38401" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38403" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="38408" class="Symbol">)</a>
   <a id="38413" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38417" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="38422" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="38426" class="Symbol">(</a><a id="38427" href="/20.07/DeBruijn/#24790" class="InductiveConstructor">ξ-·₁</a> <a id="38432" class="Symbol">(</a><a id="38433" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="38437" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a><a id="38440" class="Symbol">))</a> <a id="38443" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38449" class="Symbol">(</a><a id="38450" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38452" class="Symbol">(</a><a id="38453" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38455" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38460" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38462" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38463" class="Symbol">)</a> <a id="38465" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38467" class="Symbol">((</a><a id="38469" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38471" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38476" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38478" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38479" class="Symbol">)</a> <a id="38481" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38483" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38485" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38486" class="Symbol">))</a> <a id="38489" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
    <a id="38495" class="Symbol">((</a><a id="38497" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38499" class="Symbol">(</a><a id="38500" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38502" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38507" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38509" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38510" class="Symbol">)</a> <a id="38512" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38514" class="Symbol">((</a><a id="38516" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38518" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38523" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38525" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38526" class="Symbol">)</a> <a id="38528" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38530" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38532" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38533" class="Symbol">))</a> <a id="38536" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38538" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="38543" class="Symbol">)</a>
   <a id="38548" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38552" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="38557" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="38561" class="Symbol">(</a><a id="38562" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="38566" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="38572" class="Symbol">)</a> <a id="38574" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38580" class="Symbol">(</a><a id="38581" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38583" class="Symbol">(</a><a id="38584" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38586" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38591" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38593" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38594" class="Symbol">)</a> <a id="38596" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38598" class="Symbol">((</a><a id="38600" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38602" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38607" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38609" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38610" class="Symbol">)</a> <a id="38612" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38614" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38616" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38617" class="Symbol">))</a> <a id="38620" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
    <a id="38626" class="Symbol">((</a><a id="38628" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38630" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38635" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38637" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38638" class="Symbol">)</a> <a id="38640" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38642" class="Symbol">((</a><a id="38644" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38646" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38651" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38653" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38654" class="Symbol">)</a> <a id="38656" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38658" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="38663" class="Symbol">))</a>
   <a id="38669" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38673" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="38678" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="38682" class="Symbol">(</a><a id="38683" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="38688" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="38692" class="Symbol">(</a><a id="38693" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="38697" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="38703" class="Symbol">))</a> <a id="38706" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38712" class="Symbol">(</a><a id="38713" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38715" class="Symbol">(</a><a id="38716" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38718" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38723" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38725" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38726" class="Symbol">)</a> <a id="38728" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38730" class="Symbol">((</a><a id="38732" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38734" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38739" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38741" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38742" class="Symbol">)</a> <a id="38744" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38746" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38748" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38749" class="Symbol">))</a> <a id="38752" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a>
    <a id="38758" class="Symbol">((</a><a id="38760" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38762" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38767" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38769" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38770" class="Symbol">)</a> <a id="38772" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38774" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38779" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="38784" class="Symbol">)</a>
   <a id="38789" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38793" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="38798" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="38802" class="Symbol">(</a><a id="38803" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="38807" class="Symbol">(</a><a id="38808" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="38814" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="38820" class="Symbol">))</a> <a id="38823" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38829" class="Symbol">(</a><a id="38830" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38832" class="Symbol">(</a><a id="38833" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38835" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38840" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38842" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38843" class="Symbol">)</a> <a id="38845" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38847" class="Symbol">((</a><a id="38849" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38851" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38856" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38858" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38859" class="Symbol">)</a> <a id="38861" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38863" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38865" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38866" class="Symbol">))</a> <a id="38869" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38871" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38876" class="Symbol">(</a><a id="38877" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38882" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="38887" class="Symbol">)</a>
   <a id="38892" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38896" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="38900" class="Symbol">(</a><a id="38901" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="38907" class="Symbol">(</a><a id="38908" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="38914" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="38920" class="Symbol">))</a> <a id="38923" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="38929" class="Symbol">(</a><a id="38930" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38932" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38937" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38939" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38940" class="Symbol">)</a> <a id="38942" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38944" class="Symbol">((</a><a id="38946" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="38948" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38953" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="38955" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="38956" class="Symbol">)</a> <a id="38958" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="38960" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38965" class="Symbol">(</a><a id="38966" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="38971" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="38976" class="Symbol">))</a>
   <a id="38982" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="38986" href="/20.07/DeBruijn/#24899" class="InductiveConstructor">ξ-·₂</a> <a id="38991" href="/20.07/DeBruijn/#24042" class="InductiveConstructor">V-ƛ</a> <a id="38995" class="Symbol">(</a><a id="38996" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="39000" class="Symbol">(</a><a id="39001" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39007" class="Symbol">(</a><a id="39008" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39014" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="39020" class="Symbol">)))</a> <a id="39024" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="39030" class="Symbol">(</a><a id="39031" href="/20.07/DeBruijn/#11182" class="InductiveConstructor Operator">ƛ</a> <a id="39033" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39038" href="/20.07/DeBruijn/#11130" class="InductiveConstructor Operator">`</a> <a id="39040" href="/20.07/DeBruijn/#9859" class="InductiveConstructor">Z</a><a id="39041" class="Symbol">)</a> <a id="39043" href="/20.07/DeBruijn/#11249" class="InductiveConstructor Operator">·</a> <a id="39045" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39050" class="Symbol">(</a><a id="39051" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39056" class="Symbol">(</a><a id="39057" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39062" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="39067" class="Symbol">))</a>
   <a id="39073" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">—→⟨</a> <a id="39077" href="/20.07/DeBruijn/#25022" class="InductiveConstructor">β-ƛ</a> <a id="39081" class="Symbol">(</a><a id="39082" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39088" class="Symbol">(</a><a id="39089" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39095" class="Symbol">(</a><a id="39096" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39102" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="39108" class="Symbol">)))</a> <a id="39112" href="/20.07/DeBruijn/#26509" class="InductiveConstructor Operator">⟩</a>
    <a id="39118" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39123" class="Symbol">(</a><a id="39124" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39129" class="Symbol">(</a><a id="39130" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39135" class="Symbol">(</a><a id="39136" href="/20.07/DeBruijn/#11370" class="InductiveConstructor Operator">`suc</a> <a id="39141" href="/20.07/DeBruijn/#11324" class="InductiveConstructor">`zero</a><a id="39146" class="Symbol">)))</a>
   <a id="39153" href="/20.07/DeBruijn/#26455" class="InductiveConstructor Operator">∎</a><a id="39154" class="Symbol">)</a>
   <a id="39159" class="Symbol">(</a><a id="39160" href="/20.07/DeBruijn/#32129" class="InductiveConstructor">done</a> <a id="39165" class="Symbol">(</a><a id="39166" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39172" class="Symbol">(</a><a id="39173" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39179" class="Symbol">(</a><a id="39180" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39186" class="Symbol">(</a><a id="39187" href="/20.07/DeBruijn/#24195" class="InductiveConstructor">V-suc</a> <a id="39193" href="/20.07/DeBruijn/#24129" class="InductiveConstructor">V-zero</a><a id="39199" class="Symbol">)))))</a>
<a id="39205" class="Symbol">_</a> <a id="39207" class="Symbol">=</a> <a id="39209" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
</pre><p>We omit the proof that reduction is deterministic, since it is tedious and almost identical to the previous proof.</p><h4 id="exercise-mul-example-recommended">Exercise <code class="language-plaintext highlighter-rouge">mul-example</code> (recommended)</h4><p>Using the evaluator, confirm that two times two is four.</p><pre class="Agda"><a id="39441" class="Comment">-- Your code goes here</a>
</pre><h2 id="intrinsic-typing-is-golden">Intrinsic typing is golden</h2><p>Counting the lines of code is instructive. While this chapter covers the same formal development as the previous two chapters, it has much less code. Omitting all the examples, and all proofs that appear in Properties but not DeBruijn (such as the proof that reduction is deterministic), the number of lines of code is as follows:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Lambda                      216
Properties                  235
DeBruijn                    275
</code></pre></div></div><p>The relation between the two approaches approximates the golden ratio: extrinsically-typed terms require about 1.6 times as much code as intrinsicaly-typed.</p><h2 id="unicode">Unicode</h2><p>This chapter uses the following unicode:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>σ  U+03C3  GREEK SMALL LETTER SIGMA (\Gs or \sigma)
₀  U+2080  SUBSCRIPT ZERO (\_0)
₃  U+20B3  SUBSCRIPT THREE (\_3)
₄  U+2084  SUBSCRIPT FOUR (\_4)
₅  U+2085  SUBSCRIPT FIVE (\_5)
₆  U+2086  SUBSCRIPT SIX (\_6)
₇  U+2087  SUBSCRIPT SEVEN (\_7)
≠  U+2260  NOT EQUAL TO (\=n)
</code></pre></div></div></div><p style="text-align:center"><a alt="Previous chapter" href="/20.07/Properties/">Prev</a> &bullet; <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev-20.07/src/plfa/part2/DeBruijn.lagda.md">Source</a> &bullet; <a alt="Next chapter" href="/20.07/More/">Next</a></p></article></div></main><footer class="site-footer h-card"><data class="u-url" href="/20.07/"></data><div class="wrapper"><h2 class="footer-heading">Programming Language Foundations in Agda</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wadler"><svg class="svg-icon"><use xlink:href="/20.07/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wadler</span></a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wenkokke"><svg class="svg-icon"><use xlink:href="/20.07/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wenkokke</span></a></li><li><a href="https://www.twitter.com/wenkokke"><svg class="svg-icon"><use xlink:href="/20.07/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">wenkokke</span></a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu">jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jsiek"><svg class="svg-icon"><use xlink:href="/20.07/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jsiek</span></a></li><li><a href="https://www.twitter.com/jeremysiek"><svg class="svg-icon"><use xlink:href="/20.07/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jeremysiek</span></a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer><script type="text/javascript" src="/20.07/assets/jquery.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha256-E4RlfxwyJVmkkk0szw7LYJxuPlp6evtPSBDlWHsYYL8=" crossorigin="anonymous"></script><script type="text/javascript">anchors.add()</script><script type="text/javascript">$(".menu-icon").click(function(){$(".trigger").toggle()}),$("div.foldable pre").each(function(){var i=$(this).height(),t=parseFloat($(this).css("line-height")),h=$("<div></div>"),e=$("<div></div>"),o=$("<div></div>");$(this).prepend(h),h.css({position:"relative",float:"right",right:"-"+(.5*t-1.5)+"px",width:t,height:t}),o.css({position:"relative",height:t,width:"3px","background-color":"#C1E0FF"}),e.css({position:"relative",top:"-"+(.5*t+1.5)+"px",left:"-"+(.5*t-1.5)+"px",height:"3px",width:t,"background-color":"#C1E0FF"}),h.append(o),h.append(e),$(this).height(2*t),$(this).css("overflow","hidden"),$(this).click(function(){$(this).height()==i?($(this).height(2*t),h.show()):($(this).height("auto"),h.hide())})})</script><script type="text/javascript" src="/20.07/assets/katex.js"></script><script type="text/javascript">$("script[type='math/tex']").replaceWith(function(){var t=$(this).text();return'<span class="inline-equation">'+katex.renderToString(t)+"</span>"}),$("script[type='math/tex; mode=display']").replaceWith(function(){var t=$(this).text().replace(/%.*?(\n|$)/g,"");return'<div class="equation">'+katex.renderToString("\\displaystyle "+t)+"</div>"})</script></body></html>